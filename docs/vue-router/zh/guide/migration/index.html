<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>从 Vue2 迁移 | Vue Router</title>
    <meta name="description" content="Vue.js 的官方路由">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/vue-router/assets/style.BkR8nY9w.css" as="style">
    <link rel="preload stylesheet" href="/vue-router/vp-icons.css" as="style">
    
    <script type="module" src="/vue-router/assets/app.C21CfzrJ.js"></script>
    <link rel="preload" href="/vue-router/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/vue-router/assets/chunks/theme.DgxoWTL-.js">
    <link rel="modulepreload" href="/vue-router/assets/chunks/framework.XosO8Wyc.js">
    <link rel="modulepreload" href="/vue-router/assets/zh_guide_migration_index.md.BeZ_OOLX.lean.js">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <link rel="icon" type="image/png" href="/logo.png">
    <meta name="wwads-cn-verify" content="7e7757b1e12abcb736ab9a754ffb617a">
    <meta property="og:type" content="website">
    <meta property="twitter:card" content="summary_large_image">
    <script src="https://cdn.usefathom.com/script.js" data-site="RENJQDQI" data-spa="auto" defer></script>
    <script src="https://vueschool.io/banner.js?affiliate=vuerouter&amp;type=top" async type="text/javascript"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:url" content="https://router.vuejs.org">
    <meta property="og:description" content="Vue.js 的官方路由">
    <meta property="twitter:url" content="https://router.vuejs.org">
    <meta property="twitter:title" content="Vue Router">
    <meta property="twitter:description" content="Vue.js 的官方路由">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-ca399dd3><!--[--><!--]--><!--[--><span tabindex="-1" data-v-92be74e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-92be74e0> Skip to content </a><!--]--><!----><header class="VPNav" data-v-ca399dd3 data-v-371778d9><div class="VPNavBar" data-v-371778d9 data-v-c6eea7e1><div class="wrapper" data-v-c6eea7e1><div class="container" data-v-c6eea7e1><div class="title" data-v-c6eea7e1><div class="VPNavBarTitle has-sidebar" data-v-c6eea7e1 data-v-2c50c9e3><a class="title" href="/vue-router/zh/" data-v-2c50c9e3><!--[--><!--]--><!--[--><img class="VPImage logo" src="/vue-router/logo.svg" alt data-v-62f6d923><!--]--><span data-v-2c50c9e3>Vue Router</span><!--[--><!--]--></a></div></div><div class="content" data-v-c6eea7e1><div class="content-body" data-v-c6eea7e1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-c6eea7e1><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-c6eea7e1 data-v-d37acdd5><span id="main-nav-aria-label" class="visually-hidden" data-v-d37acdd5> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/vue-router/zh/guide/" tabindex="0" data-v-d37acdd5 data-v-53754e6a><!--[--><span data-v-53754e6a>教程</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue-router/zh/api/" tabindex="0" data-v-d37acdd5 data-v-53754e6a><!--[--><span data-v-53754e6a>API 参考</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d37acdd5 data-v-6219c420><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6219c420><span class="text" data-v-6219c420><!----><span data-v-6219c420>v4.x</span><span class="vpi-chevron-down text-icon" data-v-6219c420></span></span></button><div class="menu" data-v-6219c420><div class="VPMenu" data-v-6219c420 data-v-209e09aa><div class="items" data-v-209e09aa><!--[--><!--[--><div class="VPMenuLink" data-v-209e09aa data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://v3.router.vuejs.org/zh" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>v3.x</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d37acdd5 data-v-6219c420><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6219c420><span class="text" data-v-6219c420><!----><span data-v-6219c420>相关链接</span><span class="vpi-chevron-down text-icon" data-v-6219c420></span></span></button><div class="menu" data-v-6219c420><div class="VPMenu" data-v-6219c420 data-v-209e09aa><div class="items" data-v-209e09aa><!--[--><!--[--><div class="VPMenuLink" data-v-209e09aa data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://github.com/vuejs/router/discussions" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Discussions</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-209e09aa data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>更新日志</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-209e09aa data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://certificates.dev/vuejs/?friend=VUEROUTER&amp;utm_source=router_vuejs&amp;utm_medium=link&amp;utm_campaign=router_vuejs_links&amp;utm_content=navbar" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Vue.js 认证</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-c6eea7e1 data-v-10e75d52 data-v-6219c420><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-6219c420><span class="text" data-v-6219c420><span class="vpi-languages option-icon" data-v-6219c420></span><!----><span class="vpi-chevron-down text-icon" data-v-6219c420></span></span></button><div class="menu" data-v-6219c420><div class="VPMenu" data-v-6219c420 data-v-209e09aa><!----><!--[--><!--[--><div class="items" data-v-10e75d52><p class="title" data-v-10e75d52>简体中文</p><!--[--><div class="VPMenuLink" data-v-10e75d52 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://router.vuejs.kr/guide/migration/" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>한국어</span><!--]--></a></div><div class="VPMenuLink" data-v-10e75d52 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://vue-router-docs-pt.netlify.app/guide/migration/" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Português</span><!--]--></a></div><div class="VPMenuLink" data-v-10e75d52 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://vue-router-ru.netlify.app/guide/migration/" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Русский</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-c6eea7e1 data-v-ce64b3ed><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-ce64b3ed data-v-69d23250 data-v-ab854be5><span class="check" data-v-ab854be5><span class="icon" data-v-ab854be5><!--[--><span class="vpi-sun sun" data-v-69d23250></span><span class="vpi-moon moon" data-v-69d23250></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-c6eea7e1 data-v-282160b7 data-v-c5ee75ec><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/posva" aria-label="x" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://github.com/vuejs/router" aria-label="github" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://chat.vuejs.org" aria-label="discord" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-discord"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-c6eea7e1 data-v-d6de2221 data-v-6219c420><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6219c420><span class="vpi-more-horizontal icon" data-v-6219c420></span></button><div class="menu" data-v-6219c420><div class="VPMenu" data-v-6219c420 data-v-209e09aa><!----><!--[--><!--[--><div class="group translations" data-v-d6de2221><p class="trans-title" data-v-d6de2221>简体中文</p><!--[--><div class="VPMenuLink" data-v-d6de2221 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://router.vuejs.kr/guide/migration/" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>한국어</span><!--]--></a></div><div class="VPMenuLink" data-v-d6de2221 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://vue-router-docs-pt.netlify.app/guide/migration/" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Português</span><!--]--></a></div><div class="VPMenuLink" data-v-d6de2221 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://vue-router-ru.netlify.app/guide/migration/" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Русский</span><!--]--></a></div><!--]--></div><div class="group" data-v-d6de2221><div class="item appearance" data-v-d6de2221><p class="label" data-v-d6de2221>Appearance</p><div class="appearance-action" data-v-d6de2221><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-d6de2221 data-v-69d23250 data-v-ab854be5><span class="check" data-v-ab854be5><span class="icon" data-v-ab854be5><!--[--><span class="vpi-sun sun" data-v-69d23250></span><span class="vpi-moon moon" data-v-69d23250></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d6de2221><div class="item social-links" data-v-d6de2221><div class="VPSocialLinks social-links-list" data-v-d6de2221 data-v-c5ee75ec><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/posva" aria-label="x" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://github.com/vuejs/router" aria-label="github" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://chat.vuejs.org" aria-label="discord" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-discord"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c6eea7e1 data-v-48634493><span class="container" data-v-48634493><span class="top" data-v-48634493></span><span class="middle" data-v-48634493></span><span class="bottom" data-v-48634493></span></span></button></div></div></div></div><div class="divider" data-v-c6eea7e1><div class="divider-line" data-v-c6eea7e1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-ca399dd3 data-v-f9d90200><div class="container" data-v-f9d90200><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-f9d90200><span class="vpi-align-left menu-icon" data-v-f9d90200></span><span class="menu-text" data-v-f9d90200>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-f9d90200 data-v-b92dfab5><button data-v-b92dfab5>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-ca399dd3 data-v-53df07ab><div class="curtain" data-v-53df07ab></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-53df07ab><span class="visually-hidden" id="sidebar-aria-label" data-v-53df07ab> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-d71b7647><section class="VPSidebarItem level-0" data-v-d71b7647 data-v-12471710><div class="item" role="button" tabindex="0" data-v-12471710><div class="indicator" data-v-12471710></div><h2 class="text" data-v-12471710>设置</h2><!----></div><div class="items" data-v-12471710><!--[--><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/introduction.html" data-v-12471710><!--[--><p class="text" data-v-12471710>介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/installation.html" data-v-12471710><!--[--><p class="text" data-v-12471710>安装</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-d71b7647><section class="VPSidebarItem level-0" data-v-d71b7647 data-v-12471710><div class="item" role="button" tabindex="0" data-v-12471710><div class="indicator" data-v-12471710></div><h2 class="text" data-v-12471710>基础</h2><!----></div><div class="items" data-v-12471710><!--[--><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/" data-v-12471710><!--[--><p class="text" data-v-12471710>入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/dynamic-matching.html" data-v-12471710><!--[--><p class="text" data-v-12471710>动态路由匹配</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/route-matching-syntax.html" data-v-12471710><!--[--><p class="text" data-v-12471710>路由的匹配语法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/nested-routes.html" data-v-12471710><!--[--><p class="text" data-v-12471710>嵌套路由</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/named-routes.html" data-v-12471710><!--[--><p class="text" data-v-12471710>命名路由</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/navigation.html" data-v-12471710><!--[--><p class="text" data-v-12471710>编程式导航</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/named-views.html" data-v-12471710><!--[--><p class="text" data-v-12471710>命名视图</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/redirect-and-alias.html" data-v-12471710><!--[--><p class="text" data-v-12471710>重定向和别名</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/passing-props.html" data-v-12471710><!--[--><p class="text" data-v-12471710>路由组件传参</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/active-links.html" data-v-12471710><!--[--><p class="text" data-v-12471710>匹配当前路由的链接</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/essentials/history-mode.html" data-v-12471710><!--[--><p class="text" data-v-12471710>不同的历史记录模式</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-d71b7647><section class="VPSidebarItem level-0" data-v-d71b7647 data-v-12471710><div class="item" role="button" tabindex="0" data-v-12471710><div class="indicator" data-v-12471710></div><h2 class="text" data-v-12471710>进阶</h2><!----></div><div class="items" data-v-12471710><!--[--><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/navigation-guards.html" data-v-12471710><!--[--><p class="text" data-v-12471710>导航守卫</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/meta.html" data-v-12471710><!--[--><p class="text" data-v-12471710>路由元信息</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/data-fetching.html" data-v-12471710><!--[--><p class="text" data-v-12471710>数据获取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/composition-api.html" data-v-12471710><!--[--><p class="text" data-v-12471710>组合式 API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/router-view-slot.html" data-v-12471710><!--[--><p class="text" data-v-12471710>RouterView 插槽</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/transitions.html" data-v-12471710><!--[--><p class="text" data-v-12471710>过渡动效</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/scroll-behavior.html" data-v-12471710><!--[--><p class="text" data-v-12471710>滚动行为</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/lazy-loading.html" data-v-12471710><!--[--><p class="text" data-v-12471710>路由懒加载</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/typed-routes.html" data-v-12471710><!--[--><p class="text" data-v-12471710>类型化路由</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/extending-router-link.html" data-v-12471710><!--[--><p class="text" data-v-12471710>扩展 RouterLink</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/navigation-failures.html" data-v-12471710><!--[--><p class="text" data-v-12471710>导航故障</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/advanced/dynamic-routing.html" data-v-12471710><!--[--><p class="text" data-v-12471710>动态路由</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-d71b7647><section class="VPSidebarItem level-0 has-active" data-v-d71b7647 data-v-12471710><!----><div class="items" data-v-12471710><!--[--><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/guide/migration/index.html" data-v-12471710><!--[--><p class="text" data-v-12471710>从 Vue2 迁移</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-12471710 data-v-12471710><div class="item" data-v-12471710><div class="indicator" data-v-12471710></div><a class="VPLink link link" href="/vue-router/zh/about-translation.html" data-v-12471710><!--[--><p class="text" data-v-12471710>关于中文翻译</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-ca399dd3 data-v-7c15baf6><div class="VPDoc has-sidebar has-aside" data-v-7c15baf6 data-v-3be6e9fc><!--[--><!--]--><div class="container" data-v-3be6e9fc><div class="aside" data-v-3be6e9fc><div class="aside-curtain" data-v-3be6e9fc></div><div class="aside-container" data-v-3be6e9fc><div class="aside-content" data-v-3be6e9fc><div class="VPDocAside" data-v-3be6e9fc data-v-a186fc1c><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-a186fc1c data-v-ab382b2c><div class="content" data-v-ab382b2c><div class="outline-marker" data-v-ab382b2c></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-ab382b2c>本页内容</div><ul class="VPDocOutlineItem root" data-v-ab382b2c data-v-8d1f4476><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-a186fc1c></div><!--[--><!--[--><!--[--><!--[--><!--[--><div class="VPDocAsideSponsors" data-v-a73da138><div class="VPSponsors vp-sponsor aside"><!--[--><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid mini"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://www.coderabbit.ai/?utm_source=vuerouter&amp;utm_medium=sponsor" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">CodeRabbit</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/coderabbitai-light.svg" alt="CodeRabbit"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://github.com/sponsors/posva" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">Become a sponsor</h4><img class="vp-sponsor-grid-image" src="/your-logo-here.svg" alt="Become a sponsor"></article></a></div><!--]--></div></section><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid xmini"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://www.vuemastery.com/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">VueMastery</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/vuemastery-light.svg" alt="VueMastery"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://www.prefect.io/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">Prefect</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/prefectlogo-light.svg" alt="Prefect"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://www.controla.ai/?utm_source=posva" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">Controla</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/controla-light.png" alt="Controla"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://route4me.com" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">Route Optimizer and Route Planner Software</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/route4me.png" alt="Route Optimizer and Route Planner Software"></article></a></div><!--]--></div></section><!--]--></div></div><a class="banner mp" href="https://masteringpinia.com/?utm_source=affiliate&amp;utm_medium=vuerouter&amp;utm_campaign=VueRouter_MP&amp;utm_content=sidebar" target="_blank" data-v-a73da138><img width="22" height="22" src="/vue-router/mp-pinia-logo.svg" data-v-a73da138><span data-v-a73da138><p class="extra-info" data-v-a73da138>Complete guide to</p><p class="heading" data-v-a73da138>Mastering Pinia</p><p class="extra-info" data-v-a73da138>written by its creator</p></span></a><a class="banner cert" href="https://certificates.dev/vuejs/?friend=VUEROUTER&amp;utm_source=router_vuejs&amp;utm_medium=link&amp;utm_campaign=router_vuejs_links&amp;utm_content=sidebar" target="_blank" data-v-a73da138><img width="22" height="22" src="/vue-router/vue-cert-logo.svg" data-v-a73da138><span data-v-a73da138><p class="extra-info" data-v-a73da138>The official</p><p class="heading" data-v-a73da138>Vue.js Certification</p><p class="extra-info" data-v-a73da138>Get certified!</p></span></a><!--]--><!--]--><!--]--><!--]--><!--]--><div class="VPDocAsideCarbonAds" data-v-a186fc1c><div class="VPCarbonAds" data-v-77d1ecb2></div></div><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-3be6e9fc><div class="content-container" data-v-3be6e9fc><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><main class="main" data-v-3be6e9fc><div style="position:relative;" class="vp-doc _vue-router_zh_guide_migration_" data-v-3be6e9fc><div><h1 id="从-Vue2-迁移" tabindex="-1">从 Vue2 迁移 <a class="header-anchor" href="#从-Vue2-迁移" aria-label="Permalink to &quot;从 Vue2 迁移&quot;">​</a></h1><div class="rulekit" data-v-193a8afe><a href="https://rulekit.dev?from=vuerouter" target="_blank" rel="sponsored noopener" aria-label="Visit RuleKit - curated rules for Cursor, Claude Code, and more (opens in new tab)" class="rulekit-link" data-v-193a8afe><div class="rulekit-content" data-v-193a8afe><div class="rulekit-left" data-v-193a8afe><span class="rulekit-sparkles" aria-hidden="true" data-v-193a8afe>✨</span><span class="rulekit-text" data-v-193a8afe><!--[-->自信地编写 Vue 应用的 Vibe 代码<!--]--></span></div><div class="rulekit-right" data-v-193a8afe><svg width="1024" height="1024" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" alt="RuleKit logo" class="rulekit-logo" data-v-193a8afe><path d="M335 694L353.947 697.225V737L335 733.775V694Z" fill="currentColor" data-v-193a8afe></path><path d="M355 538.234V673L335 669.766V536.078L355 538.234Z" fill="currentColor" data-v-193a8afe></path><path d="M259.255 329.5L313.424 338.585V414.78L374.576 425.512V350.39L422.5 359.457L422.529 391.816L399.251 388.374V443.756L375.649 440.537V460.314L313.424 449.576V430.878L287.675 426.585L286.602 367.561L259.255 364V329.5Z" fill="currentColor" data-v-193a8afe></path><path d="M398.897 113.5L647.031 158.597V199L676.034 205.5V276L836.085 304.623L896.239 362.605V498.968L873.681 516.147V778.5L914.5 792.095L755.522 914.5L180.84 802.832L130.354 738.409V472.125L103.5 457.092V336.835L164.728 270.264L291.48 205.5L321.557 211V176.85L350.56 165.5V139L398.897 113.5ZM379.562 148.933V184L350.56 182.218L349.485 259.527L379.562 263.822V184L582.581 218.725V300.328L622.325 307V224.094L598.693 220.873V188.661L379.562 148.933ZM433.271 218.725V234.831L561.097 257.379V240.2L433.271 218.725ZM291.48 234.831L223.807 272.412L740.484 364.752L802.786 325.024L673.885 302.476L622.325 330L561.097 319V282L433.271 259.527L389.23 285.296L321.557 275V240.2L291.48 234.831ZM180.84 288.517L128.206 343.277V440.537L233.475 461.387L232.401 360.457L259.255 364V446L284.103 449.576V476.42L311.889 480.714V750L373.117 762L374.191 691.165V493.599L399.251 497V472.125L422.5 476.42L422.529 391.816L449.383 396.964V500L543.911 516V414.143L571.839 418.438V388.374L624.474 396.964V423.807L652.402 428V534.5L778.08 551.5V443.756L731 392.244L180.84 288.517ZM831.789 336.835L757.671 383.005L796.341 423.807L871.533 374.416L831.789 336.835ZM807.083 445.281V529.032L871.533 486.083V404.48L807.083 445.281ZM571.839 449.576V521.516L587 524.5V592L606.213 595.603V527.5L624.474 531V458.5L571.839 449.576ZM155.06 472.125V729.5L191.5 778.5L713 880.5L754.448 853.298V579.497L635.215 560.17V601L682.479 609.562V649.29L663.144 647V682.575L682.479 684.723L683.5 814.5L652.402 808.201V839L543.911 819.5V788.874L511.685 783.505V654.5L532.095 658.5V623.52L511.685 620.299V578.424L557.875 585.94V545.138L422.5 521.516L402.12 538.234V654.658V766.326L373.117 762V791.021L311.889 778.5V750L285.035 744.851V512.926L264.5 493.599L155.06 472.125ZM778.08 579.497L780.228 833.971L847.901 781.358V538.234L778.08 579.497ZM561.097 627.5V664.5L543.911 661V788.874L565.394 793.169L567 669L584.729 672V632.5L561.097 627.5ZM611.583 639.626V676.5L628.77 679V802.832L652.402 808.201V682.575L635.215 680.428V643L611.583 639.626Z" fill="currentColor" data-v-193a8afe></path></svg><span class="rulekit-title" data-v-193a8afe>RuleKit</span></div></div></a></div><p>在 Vue Router API 从 v3（Vue2）到 v4（Vue3）的重写过程中，大部分的 Vue Router API 都没有变化，但是在迁移你的程序时，你可能会遇到一些破坏性的变化。本指南将帮助你了解为什么会发生这些变化，以及如何调整你的程序，使其与 Vue Router4 兼容。</p><h2 id="破坏性变化" tabindex="-1">破坏性变化 <a class="header-anchor" href="#破坏性变化" aria-label="Permalink to &quot;破坏性变化&quot;">​</a></h2><p>变化的顺序是按其用途排列的。因此，建议按照这个清单的顺序进行。</p><h3 id="new-Router-变成-createRouter" tabindex="-1">new Router 变成 createRouter <a class="header-anchor" href="#new-Router-变成-createRouter" aria-label="Permalink to &quot;new Router 变成 createRouter&quot;">​</a></h3><p>Vue Router 不再是一个类，而是一组函数。现在你不用再写 <code>new Router()</code>，而是要调用 <code>createRouter</code>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 以前是</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// import Router from &#39;vue-router&#39;</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">import</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">createRouter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> } </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">from</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;"> &#39;vue-router&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> router</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> createRouter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // ...</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><h3 id="新的-history-配置取代-mode" tabindex="-1">新的 <code>history</code> 配置取代 <code>mode</code> <a class="header-anchor" href="#新的-history-配置取代-mode" aria-label="Permalink to &quot;新的 `history` 配置取代 `mode`&quot;">​</a></h3><p><code>mode: &#39;history&#39;</code> 配置已经被一个更灵活的 <code>history</code> 配置所取代。根据你使用的模式，你必须用适当的函数替换它：</p><ul><li><code>&quot;history&quot;</code>: <code>createWebHistory()</code></li><li><code>&quot;hash&quot;</code>: <code>createWebHashHistory()</code></li><li><code>&quot;abstract&quot;</code>: <code>createMemoryHistory()</code></li></ul><p>下面是一个完整的代码段：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">import</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">createRouter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">createWebHistory</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> } </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">from</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;"> &#39;vue-router&#39;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 还有 createWebHashHistory 和 createMemoryHistory</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">createRouter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">  history</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">createWebHistory</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(),</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">  routes</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><p>在 SSR 上使用时，你需要手动传递相应的 history：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// router.js</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">let</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;"> history</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;"> isServer</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;"> ?</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> createMemoryHistory</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">() </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">:</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> createWebHistory</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">()</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">let</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;"> router</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> createRouter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">routes</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">history</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> })</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 在你的 server-entry.js 中的某个地方</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">push</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">req</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">url</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 请求 url</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">isReady</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">().</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">then</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(() </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // 处理请求</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><p><strong>原因</strong>：为未使用的 history 启用摇树，以及为高级用例（如原生解决方案）实现自定义 history。</p><h3 id="移动了-base-配置" tabindex="-1">移动了 <code>base</code> 配置 <a class="header-anchor" href="#移动了-base-配置" aria-label="Permalink to &quot;移动了 `base` 配置&quot;">​</a></h3><p>现在，<code>base</code> 配置被作为 <code>createWebHistory</code> (其他 history 也一样)的第一个参数传递：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">import</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">createRouter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">createWebHistory</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> } </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">from</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;"> &#39;vue-router&#39;</span></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">createRouter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">  history</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">createWebHistory</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/base-directory/&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">),</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">  routes</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: [],</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><h3 id="删除了-fallback-属性" tabindex="-1">删除了 <code>fallback</code> 属性 <a class="header-anchor" href="#删除了-fallback-属性" aria-label="Permalink to &quot;删除了 `fallback` 属性&quot;">​</a></h3><p>创建路由时不再支持 <code>fallback</code> 属性：</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#B31D28;">-new VueRouter({</span></span>
<span class="line"><span style="--shiki-dark:#98C379;--shiki-light:#22863A;">+createRouter({</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#B31D28;">-  fallback: false,</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">// other options...</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><p><strong>原因</strong>: Vue 支持的所有浏览器都支持 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History_API" target="_blank" rel="noreferrer">HTML5 History API</a>，因此我们不再需要使用 <code>location.hash</code>，而可以直接使用 <code>history.pushState()</code>。</p><h3 id="删除了-星标或通配符-路由" tabindex="-1">删除了 <code>*</code>（星标或通配符）路由 <a class="header-anchor" href="#删除了-星标或通配符-路由" aria-label="Permalink to &quot;删除了 `*`（星标或通配符）路由&quot;">​</a></h3><p>现在必须使用自定义的 regex 参数来定义所有路由(<code>*</code>、<code>/*</code>)：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> routes</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> [</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // pathMatch 是参数的名称，例如，跳转到 /not/found 会得到</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // { params: { pathMatch: [&#39;not&#39;, &#39;found&#39;] } }</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // 这要归功于最后一个 *，意思是重复的参数，如果你</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // 打算直接使用未匹配的路径名称导航到该路径，这是必要的</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/:pathMatch(.*)*&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;not-found&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">NotFound</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> },</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // 如果你省略了最后的 `*`，在解析或跳转时，参数中的 `/` 字符将被编码</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/:pathMatch(.*)&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;bad-not-found&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">NotFound</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">]</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 如果使用命名路由，不好的例子：</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">resolve</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">  name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;bad-not-found&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">  params</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">pathMatch</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;not/found&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">}).</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">href</span><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;"> // &#39;/not%2Ffound&#39;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 好的例子:</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">resolve</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">  name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;not-found&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">  params</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">pathMatch</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: [</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;not&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;found&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">] },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">}).</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">href</span><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;"> // &#39;/not/found&#39;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果你不打算使用其名称直接跳转到未找到的路由，则无需为重复的参数添加 <code>*</code>。如果你调用 <code>router.push(&#39;/not/found/url&#39;)</code>，它将提供正确的 <code>pathMatch</code> 参数。</p></div><p><strong>原因</strong>：Vue Router 不再使用 <code>path-to-regexp</code>，而是实现了自己的解析系统，允许路由排序并实现动态路由。由于我们通常在每个项目中只添加一个通配符路由，所以支持 <code>*</code> 的特殊语法并没有太大的好处。参数的编码是跨路由的，无一例外，让事情更容易预测。</p><h3 id="现在-currentRoute-属性是一个-ref-" tabindex="-1">现在 <code>currentRoute</code> 属性是一个 <code>ref()</code> <a class="header-anchor" href="#现在-currentRoute-属性是一个-ref-" aria-label="Permalink to &quot;现在 `currentRoute` 属性是一个 `ref()`&quot;">​</a></h3><p>路由器实例上的 <a href="https://v3.router.vuejs.org/zh/api/#router-currentroute" target="_blank" rel="noreferrer"><code>currentRoute</code></a> 对象的属性在以前可以被直接访问。</p><p>从 vue-router v4 开始，路由器实例上的 <code>currentRoute</code> 对象的底层类型已被改为 <code>Ref&lt;RouteLocationNormalizedLoaded&gt;</code>，其源自 Vue 3 中新引入的<a href="https://cn.vuejs.org/guide/essentials/reactivity-fundamentals.html" target="_blank" rel="noreferrer">响应式基础</a>。</p><p>当你使用 <code>useRoute()</code> 或 <code>this.$route</code> 获取路由信息时这并不会带来任何变化，如果想要直接在路由器实例上访问它，你需要通过 <code>currentRoute.value</code> 来访问实际的路由对象：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes one-dark-pro github-light has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> { </span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;">page</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> } </span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;"> router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">currentRoute</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">query</span></span>
<span class="line diff add"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> { </span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;">page</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> } </span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;">=</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;"> router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">currentRoute</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">value</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">query</span></span></code></pre></div><h3 id="将-onReady-改为-isReady" tabindex="-1">将 <code>onReady</code> 改为 <code>isReady</code> <a class="header-anchor" href="#将-onReady-改为-isReady" aria-label="Permalink to &quot;将 `onReady` 改为 `isReady`&quot;">​</a></h3><p>现有的 <code>router.onReady()</code> 函数已被 <code>router.isReady()</code> 取代，该函数不接受任何参数并返回一个 Promise：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 将</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">onReady</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">onSuccess</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">onError</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 替换成</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">isReady</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">().</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">then</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">onSuccess</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">).</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">catch</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">onError</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 或者使用 await:</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">try</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  await</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;"> router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">isReady</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">()</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // 成功</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">} </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">catch</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">err</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // 报错</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">}</span></span></code></pre></div><h3 id="scrollBehavior-的变化" tabindex="-1"><code>scrollBehavior</code> 的变化 <a class="header-anchor" href="#scrollBehavior-的变化" aria-label="Permalink to &quot;`scrollBehavior` 的变化&quot;">​</a></h3><p><code>scrollBehavior</code> 中返回的对象与 <a href="https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions" target="_blank" rel="noreferrer"><code>ScrollToOptions</code></a> 类似：<code>x</code> 改名为 <code>left</code>，<code>y</code> 改名为 <code>top</code>。详见 <a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0035-router-scroll-position.md" target="_blank" rel="noreferrer">RFC</a>。</p><p><strong>原因</strong>：使该对象类似于 <code>ScrollToOptions</code>，以使其感觉更像原生 JS API，并有可能启用将来的新配置。</p><h3 id="-router-view-、-keep-alive-和-transition-" tabindex="-1"><code>&lt;router-view&gt;</code>、<code>&lt;keep-alive&gt;</code> 和 <code>&lt;transition&gt;</code> <a class="header-anchor" href="#-router-view-、-keep-alive-和-transition-" aria-label="Permalink to &quot;`&lt;router-view&gt;`、`&lt;keep-alive&gt;` 和 `&lt;transition&gt;`&quot;">​</a></h3><p><code>transition</code> 和 <code>keep-alive</code> 现在必须通过 <code>v-slot</code> API 在 <code>RouterView</code> <strong>内部</strong>使用：</p><div class="language-template vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">template</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-view</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> v-slot</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">{ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">Component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  &lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">transition</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    &lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">keep-alive</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      &lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> :</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;">is</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">Component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> /&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    &lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">keep-alive</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  &lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">transition</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-view</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span></code></pre></div><p><strong>原因</strong>: 这是一个必要的变化。详见 <a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0034-router-view-keep-alive-transitions.md" target="_blank" rel="noreferrer">related RFC</a>.</p><h3 id="删除-router-link-中的-append-属性" tabindex="-1">删除 <code>&lt;router-link&gt;</code> 中的 <code>append</code> 属性 <a class="header-anchor" href="#删除-router-link-中的-append-属性" aria-label="Permalink to &quot;删除 `&lt;router-link&gt;` 中的 `append` 属性&quot;">​</a></h3><p><code>&lt;router-link&gt;</code> 中的 <code>append</code> 属性已被删除。你可以手动将值设置到现有的 <code>path</code> 中：</p><div class="language-template vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">template</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">将</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-link</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&quot;child-route&quot;</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> append</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;to relative child&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-link</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">替换成</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-link</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> :</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">append</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">$route</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;child-route&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  to relative child</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-link</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span></code></pre></div><p>你必须在 <em>App</em> 实例上定义一个全局的 <code>append</code> 函数：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">app</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">config</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">globalProperties</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">append</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">pathToAppend</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">  path</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> +</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">endsWith</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">?</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;"> &#39;&#39;</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;"> :</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;"> &#39;/&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;">+</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;"> pathToAppend</span></span></code></pre></div><p><strong>原因</strong>：<code>append</code> 使用频率不高，用户可以很容易地实现。</p><h3 id="删除-router-link-中的-event-和-tag-属性" tabindex="-1">删除 <code>&lt;router-link&gt;</code> 中的 <code>event</code> 和 <code>tag</code> 属性 <a class="header-anchor" href="#删除-router-link-中的-event-和-tag-属性" aria-label="Permalink to &quot;删除 `&lt;router-link&gt;` 中的 `event` 和 `tag` 属性&quot;">​</a></h3><p><code>&lt;router-link&gt;</code> 中的 <code>event</code> 和 <code>tag</code> 属性都已被删除。你可以使用 <a href="/vue-router/zh/guide/advanced/composition-api.html#uselink"><code>v-slot</code> API</a> 来完全定制 <code>&lt;router-link&gt;</code>：</p><div class="language-template vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">template</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">将</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-link</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&quot;/about&quot;</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> tag</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&quot;span&quot;</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> event</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&quot;dblclick&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;About Us&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-link</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">替换成</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-link</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&quot;/about&quot;</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> custom</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> v-slot</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">{ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">navigate</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  &lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">span</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> @</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;">click</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">navigate</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> @</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;">keypress</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;">enter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">navigate</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> role</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&quot;link&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;About Us&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">span</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-link</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span></code></pre></div><p><strong>原因</strong>：这些属性经常一起使用，以使用与 <code>&lt;a&gt;</code> 标签不同的东西，但这些属性是在 <code>v-slot</code> API 之前引入的，并且没有足够的使用，因此没有足够的理由为每个人增加 bundle 包的大小。</p><h3 id="删除-router-link-中的-exact-属性" tabindex="-1">删除 <code>&lt;router-link&gt;</code> 中的 <code>exact</code> 属性 <a class="header-anchor" href="#删除-router-link-中的-exact-属性" aria-label="Permalink to &quot;删除 `&lt;router-link&gt;` 中的 `exact` 属性&quot;">​</a></h3><p><code>exact</code> 属性已被删除，因为不再存在要修复的警告，所以你应该能够安全地删除它。但，有两件事你应该注意：</p><ul><li>路由现在是基于它们所代表的路由记录来激活的，而不是路由地址对象及其 <code>path</code>、<code>query</code> 和 <code>hash</code> 属性来激活的</li><li>只匹配 <code>path</code> 部分，<code>query</code> 和 <code>hash</code> 不再考虑</li></ul><p>如果你想自定义这种行为，例如考虑到 <code>hash</code> 部分，你应该使用 <a href="/vue-router/zh/guide/advanced/composition-api.html#uselink"><code>v-slot</code> API</a> 来扩展<code>&lt;router-link&gt;</code>。</p><p><strong>原因</strong>: 详见 <a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0028-router-active-link.md#summary" target="_blank" rel="noreferrer">RFC about active matching</a>。</p><h3 id="忽略-mixins-中的导航守卫" tabindex="-1">忽略 mixins 中的导航守卫 <a class="header-anchor" href="#忽略-mixins-中的导航守卫" aria-label="Permalink to &quot;忽略 mixins 中的导航守卫&quot;">​</a></h3><p>目前不支持 mixins 中的导航守卫，你可以在 <a href="https://github.com/vuejs/router/issues/454" target="_blank" rel="noreferrer">vue-router#454</a> 追踪它的支持情况。</p><h3 id="删除-router-match-改为-router-resolve" tabindex="-1">删除 <code>router.match</code> 改为 <code>router.resolve</code> <a class="header-anchor" href="#删除-router-match-改为-router-resolve" aria-label="Permalink to &quot;删除 `router.match` 改为 `router.resolve`&quot;">​</a></h3><p><code>router.match</code> 和 <code>router.resolve</code> 已合并到 <code>router.resolve</code> 中，签名略有不同。<a href="/vue-router/zh/api/interfaces/Router.html#Methods-resolve">详见 API</a>。</p><p><strong>原因</strong>：将用于同一目的的多种方法统一起来。</p><h3 id="删除-router-getMatchedComponents-" tabindex="-1">删除 <code>router.getMatchedComponents()</code> <a class="header-anchor" href="#删除-router-getMatchedComponents-" aria-label="Permalink to &quot;删除 `router.getMatchedComponents()`&quot;">​</a></h3><p><code>router.getMatchedComponents</code> 方法现在被删除，因为匹配的组件可以从 <code>router.currentRoute.value.matched</code> 中获取：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">currentRoute</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">value</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">matched</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">flatMap</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">record</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;"> =&gt;</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">  Object</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">values</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">record</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">components</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span></code></pre></div><p><strong>原因</strong>：这个方法只在 SSR 中使用，并且是用户一行就能完成的操作。</p><h3 id="重定向记录不能使用特殊路径" tabindex="-1">重定向记录不能使用特殊路径 <a class="header-anchor" href="#重定向记录不能使用特殊路径" aria-label="Permalink to &quot;重定向记录不能使用特殊路径&quot;">​</a></h3><p>以前，有一个未被记录的特性允许将重定向记录设置为形如 <code>/events/:id</code> 的特殊路径，并且它会复用现有的参数 <code>id</code>。现在它已不再支持，有两个替代选项:</p><ul><li>使用不包含参数的路由名称：<code>redirect: { name: &#39;events&#39; }</code>。注意，当参数 <code>:id</code> 为可选项时它不会生效</li><li>使用一个函数重建基于目标的新位置：<code>redirect: to =&gt; ({ name: &#39;events&#39;, params: to.params })</code></li></ul><p><strong>原因</strong>：这种语法很少使用，是上述版本的<em>等效做法</em>，但是相比之下还不够简短，同时会引入一些复杂性，使路由器变得更重。</p><h3 id="所有的导航现在都是异步的" tabindex="-1"><strong>所有</strong>的导航现在都是异步的 <a class="header-anchor" href="#所有的导航现在都是异步的" aria-label="Permalink to &quot;**所有**的导航现在都是异步的&quot;">​</a></h3><p>所有的导航，包括第一个导航，现在都是异步的，这意味着，如果你使用一个 <code>transition</code>，你可能需要等待路由 <em>ready</em> 好后再挂载程序：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">app</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">use</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 注意：在服务器端，你需要手动跳转到初始地址。</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">isReady</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">().</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">then</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(() </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;"> app</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">mount</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;#app&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">))</span></span></code></pre></div><p>否则会有一个初始过渡，就像你提供了 <code>appear</code> 属性到 <code>transition</code> 一样，因为路由会显示它的初始地址（什么都没有），然后显示第一个地址。</p><p>请注意，<strong>如果在初始导航时有导航守卫</strong>，你可能不想阻止程序渲染，直到它们被解析，除非你正在进行服务器端渲染。否则，在这种情况下，不等待路由准备好挂载应用会产生与 Vue2 中相同的结果。</p><h3 id="删除-router-app" tabindex="-1">删除 <code>router.app</code> <a class="header-anchor" href="#删除-router-app" aria-label="Permalink to &quot;删除 `router.app`&quot;">​</a></h3><p><code>router.app</code> 用于表示注入路由的最后一个根组件（Vue 实例）。Vue Router 现在可以被多个 Vue 程序同时安全使用。你仍然可以在使用路由时添加它：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">app</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">use</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">app</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;"> app</span></span></code></pre></div><p>你也可以扩展 <code>Router</code> 接口的 TypeScript 定义来添加 <code>app</code> 属性。</p><p><strong>原因</strong>：Vue3 写的程序不能在 Vue2 中使用，现在我们使用同一个 Router 实例来支持多个程序，因此拥有 <code>app</code> 属性可能会产生误导，因为它是程序而不是根实例。</p><h3 id="将内容传递给路由组件的-slot-" tabindex="-1">将内容传递给路由组件的 <code>&lt;slot&gt;</code> <a class="header-anchor" href="#将内容传递给路由组件的-slot-" aria-label="Permalink to &quot;将内容传递给路由组件的 `&lt;slot&gt;`&quot;">​</a></h3><p>之前你可以直接传递一个模板，通过嵌套在 <code>&lt;router-view&gt;</code> 组件下，由路由组件的 <code>&lt;slot&gt;</code> 来渲染：</p><div class="language-template vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">template</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-view</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  &lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">p</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;In Vue Router 3, I render inside the route component&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">p</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-view</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span></code></pre></div><p>由于 <code>&lt;router-view&gt;</code> 引入了 <code>v-slot</code> API，你必须使用 <code>v-slot</code> API 将其传递给 <code>&lt;component&gt;</code>：</p><div class="language-template vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">template</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-view</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;"> v-slot</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">{ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">Component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  &lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> :</span><span style="--shiki-dark:#D19A66;--shiki-light:#6F42C1;">is</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">Component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#032F62;">&quot;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    &lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">p</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;In Vue Router 3, I render inside the route component&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">p</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  &lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">router-view</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span></code></pre></div><h3 id="将-parent-从路由地址中删除" tabindex="-1">将 <code>parent</code> 从路由地址中删除 <a class="header-anchor" href="#将-parent-从路由地址中删除" aria-label="Permalink to &quot;将 `parent` 从路由地址中删除&quot;">​</a></h3><p><code>parent</code> 属性已从标准化路由地址（<code>this.$route</code> 和 <code>router.resolve</code> 返回的对象）中删除。你仍然可以通过 <code>matched</code> 数组访问它：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> parent</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> this</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">$route</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">matched</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">[</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;">this</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">$route</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">matched</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#005CC5;">length</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> -</span><span style="--shiki-dark:#D19A66;--shiki-light:#005CC5;"> 2</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">]</span></span></code></pre></div><p><strong>原因</strong>：同时存在 <code>parent</code> 和 <code>children</code> 会造成不必要的循环引用，而属性可以通过 <code>matched</code> 来检索。</p><h3 id="删除-pathToRegexpOptions" tabindex="-1">删除 <code>pathToRegexpOptions</code> <a class="header-anchor" href="#删除-pathToRegexpOptions" aria-label="Permalink to &quot;删除 `pathToRegexpOptions`&quot;">​</a></h3><p>路由的 <code>pathToRegexpOptions</code> 和 <code>caseSensitive</code> 属性已被 <code>createRouter()</code> 的 <code>sensitive</code> 和 <code>strict</code> 配置取代。现在，当使用 <code>createRouter()</code> 创建路由时，它们也可以直接传递。<code>path-to-regexp</code> 的任何其他特定配置已被删除，因为 <code>path-to-regexp</code> 已不再用于解析路径。</p><h3 id="删除未命名的参数" tabindex="-1">删除未命名的参数 <a class="header-anchor" href="#删除未命名的参数" aria-label="Permalink to &quot;删除未命名的参数&quot;">​</a></h3><p>由于取消了 <code>path-to-regexp</code>，所以不再支持未命名的参数：</p><ul><li><code>/foo(/foo)?/suffix</code> 变成 <code>/foo/:_(foo)?/suffix</code></li><li><code>/foo(foo)?</code> 变成 <code>/foo:_(foo)?</code></li><li><code>/foo/(.*)</code> 变成 <code>/foo/:_(.*)</code></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>请注意，你可以使用任何名称代替 <code>_</code> 作为参数。重点是要提供一个名字。</p></div><h3 id="history-state-的用法" tabindex="-1"><code>history.state</code> 的用法 <a class="header-anchor" href="#history-state-的用法" aria-label="Permalink to &quot;`history.state` 的用法&quot;">​</a></h3><p>Vue Router 将信息保存在 <code>history.state</code> 上。如果你有任何手动调用 <code>history.pushState()</code> 的代码，你应该避免它，或者用的 <code>router.push()</code> 和 <code>history.replaceState()</code> 进行重构：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 将</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">history</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">pushState</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">myState</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">url</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 替换成</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">await</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;"> router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">push</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">url</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">history</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">replaceState</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#ABB2BF;--shiki-light:#D73A49;">...</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">history</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">state</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#ABB2BF;--shiki-light:#D73A49;">...</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">myState</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }, </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span></code></pre></div><p>同样，如果你在调用 <code>history.replaceState()</code> 时没有保留当前状态，你需要传递当前 <code>history.state</code>：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 将</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">history</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">replaceState</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({}, </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">url</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 替换成</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">history</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">replaceState</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">history</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">state</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">url</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span></code></pre></div><p><strong>原因</strong>：我们使用历史状态来保存导航信息，如滚动位置，以前的地址等。</p><h3 id="options-中需要配置-routes" tabindex="-1"><code>options</code> 中需要配置 <code>routes</code> <a class="header-anchor" href="#options-中需要配置-routes" aria-label="Permalink to &quot;`options` 中需要配置 `routes`&quot;">​</a></h3><p><code>options</code> 中的 <code>routes</code> 属性现在是必需的。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">createRouter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">routes</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: [] })</span></span></code></pre></div><p><strong>原因</strong>：路由的设计是为了创建路由，尽管你可以在以后添加它们。在大多数情况下，你至少需要一条路由，一般每个应用都会编写一次。</p><h3 id="不存在的命名路由" tabindex="-1">不存在的命名路由 <a class="header-anchor" href="#不存在的命名路由" aria-label="Permalink to &quot;不存在的命名路由&quot;">​</a></h3><p>跳转或解析不存在的命名路由会产生错误：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 哎呀，我们的名字打错了</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">push</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;homee&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }) </span><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 报错</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">resolve</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;homee&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }) </span><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 报错</span></span></code></pre></div><p><strong>原因</strong>：以前，路由会导航到 <code>/</code>，但不显示任何内容（而不是主页）。抛出一个错误更有意义，因为我们不能生成一个有效的 URL 进行导航</p><h3 id="命名路由缺少必要的-params" tabindex="-1">命名路由缺少必要的 <code>params</code> <a class="header-anchor" href="#命名路由缺少必要的-params" aria-label="Permalink to &quot;命名路由缺少必要的 `params`&quot;">​</a></h3><p>在没有传递所需参数的情况下跳转或解析命名路由，会产生错误：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 给与以下路由:</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> routes</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> [{ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/users/:id&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;user&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">UserDetails</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// 缺少 `id` 参数会失败</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">push</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;user&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> })</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">resolve</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;user&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> })</span></span></code></pre></div><p><strong>原因</strong>：同上。</p><h3 id="带有空-path-的命名子路由不再添加斜线" tabindex="-1">带有空 <code>path</code> 的命名子路由不再添加斜线 <a class="header-anchor" href="#带有空-path-的命名子路由不再添加斜线" aria-label="Permalink to &quot;带有空 `path` 的命名子路由不再添加斜线&quot;">​</a></h3><p>给予任何空 <code>path</code> 的嵌套命名路由：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> routes</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> [</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  {</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/dashboard&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;dashboard-parent&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">DashboardParent</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    children</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: [</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;dashboard&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">DashboardDefault</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      {</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">        path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;settings&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">        name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;dashboard-settings&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">        component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">DashboardSettings</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    ],</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">]</span></span></code></pre></div><p>现在，导航或解析到命名的路由 <code>dashboard</code> 时，会产生一个<strong>不带斜线的</strong> URL：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">resolve</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;dashboard&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }).</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">href</span><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;"> // &#39;/dashboard&#39;</span></span></code></pre></div><p>这对子级 <code>redirect</code> 有重要的副作用，如下所示：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> routes</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> [</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  {</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/parent&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">Parent</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    children</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: [</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">      // 现在将重定向到 `/home` 而不是 `/parent/home`</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">redirect</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;home&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;home&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">Home</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    ],</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">]</span></span></code></pre></div><p>请注意，如果 <code>path</code> 是 <code>/parent/</code>，这也可以，因为 <code>home</code> 到 <code>/parent/</code> 的相对地址确实是 <code>/parent/home</code>，但 <code>home</code> 到 <code>/parent</code> 的相对地址是 <code>/home</code>。</p><p><strong>原因</strong>：这是为了使尾部的斜线行为保持一致：默认情况下，所有路由都允许使用尾部的斜线。可以通过使用 <code>strict</code> 配置和手动添加(或不添加)斜线来禁用它。</p><h3 id="-route-属性编码" tabindex="-1"><code>$route</code> 属性编码 <a class="header-anchor" href="#-route-属性编码" aria-label="Permalink to &quot;`$route` 属性编码&quot;">​</a></h3><p>无论在哪里启动导航，<code>params</code>、<code>query</code>和 <code>hash</code> 中的解码值现在都是一致的（旧的浏览器仍然会产生未编码的 <code>path</code> 和 <code>fullPath</code>）。初始导航应产生与应用内部导航相同的结果。</p><p>给定任何<a href="/vue-router/zh/api/#RouteLocationNormalized">规范化的路由地址</a>:</p><ul><li><code>path</code>, <code>fullPath</code>中的值不再被解码了。例如，直接在地址栏上写 &quot;<a href="https://example.com/hello" target="_blank" rel="noreferrer">https://example.com/hello</a> world&quot;，将得到编码后的版本：&quot;<a href="https://example.com/hello%20world" target="_blank" rel="noreferrer">https://example.com/hello world</a>&quot;，而 &quot;path &quot;和 &quot;fullPath &quot;都是&quot;/hello%20world&quot;。</li><li><code>hash</code> 现在被解码了，这样就可以复制过来。<code>router.push({ hash: $route.hash })</code> 可以直接用于 <a href="/vue-router/zh/api/interfaces/RouterOptions.html#Properties-scrollBehavior">scrollBehavior</a> 的 <code>el</code> 配置中。</li><li>当使用 <code>push</code>、<code>resolve</code> 和 <code>replace</code> 并在对象中提供 <code>string</code> 地址或 <code>path</code> 属性时，<strong>必须进行编码</strong>(像以前的版本一样)。另一方面，<code>params</code>、<code>query</code> 和 <code>hash</code> 必须以未编码的版本提供。</li><li>斜线字符(<code>/</code>)现在已在 <code>params</code> 内正确解码，同时仍在 URL 上产生一个编码版本：<code>%2F</code>。</li></ul><p><strong>原因</strong>：这样，在调用 <code>router.push()</code> 和 <code>router.resolve()</code> 时，可以很容易地复制一个地址的现有属性，并使产生的路由地址在各浏览器之间保持一致。<code>router.push()</code> 现在是幂等的，这意味着调用 <code>router.push(route.fullPath)</code>、<code>router.push({ hash: route.hash })</code>、<code>router.push({ query: route.query })</code> 和<code>router.push({ params: route.params })</code> 不会产生额外的编码。</p><h3 id="TypeScript-变化" tabindex="-1">TypeScript 变化 <a class="header-anchor" href="#TypeScript-变化" aria-label="Permalink to &quot;TypeScript 变化&quot;">​</a></h3><p>为了使类型更一致，更有表现力，有些类型被重新命名：</p><table tabindex="0"><thead><tr><th><code>vue-router@3</code></th><th><code>vue-router@4</code></th></tr></thead><tbody><tr><td>RouteConfig</td><td>RouteRecordRaw</td></tr><tr><td>Location</td><td>RouteLocation</td></tr><tr><td>Route</td><td>RouteLocationNormalized</td></tr></tbody></table><h2 id="新功能" tabindex="-1">新功能 <a class="header-anchor" href="#新功能" aria-label="Permalink to &quot;新功能&quot;">​</a></h2><p>Vue Router4 中需要关注的一些新功能包括：</p><ul><li><a href="./../advanced/dynamic-routing.html">动态路由</a></li><li><a href="./../advanced/composition-api.html">组合式 API</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-3be6e9fc data-v-45508a6d><!--[--><!--]--><div class="edit-info" data-v-45508a6d><div class="edit-link" data-v-45508a6d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/vuejs/router/edit/main/packages/docs/zh/guide/migration/index.md" target="_blank" rel="noreferrer" data-v-45508a6d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-45508a6d></span> 对本页提出修改建议<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-45508a6d><span class="visually-hidden" id="doc-footer-aria-label" data-v-45508a6d>Pager</span><div class="pager" data-v-45508a6d><a class="VPLink link pager-link prev" href="/vue-router/zh/guide/advanced/dynamic-routing.html" data-v-45508a6d><!--[--><span class="desc" data-v-45508a6d>Previous page</span><span class="title" data-v-45508a6d>动态路由</span><!--]--></a></div><div class="pager" data-v-45508a6d><a class="VPLink link pager-link next" href="/vue-router/zh/about-translation.html" data-v-45508a6d><!--[--><span class="desc" data-v-45508a6d>Next page</span><span class="title" data-v-45508a6d>关于中文翻译</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-ca399dd3 data-v-d0fa5f24><div class="container" data-v-d0fa5f24><p class="message" data-v-d0fa5f24>Released under the MIT License.</p><p class="copyright" data-v-d0fa5f24>Copyright © 2014-present Evan You, Eduardo San Martin Morote</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api_enumerations_errortypes.md\":\"MMTFoF52\",\"api_enumerations_navigationfailuretype.md\":\"BrwCU8wL\",\"api_functions_creatememoryhistory.md\":\"CHAnLQZ2\",\"api_functions_createrouter.md\":\"DQ2rlUVq\",\"api_functions_createroutermatcher.md\":\"DJyXZtht\",\"api_functions_createwebhashhistory.md\":\"BOSoHXIm\",\"api_functions_createwebhistory.md\":\"DgXCOSt7\",\"api_functions_isnavigationfailure.md\":\"BOmUeAIx\",\"api_functions_loadroutelocation.md\":\"CC3xrYkm\",\"api_functions_onbeforerouteleave.md\":\"BJ9N-BNG\",\"api_functions_onbeforerouteupdate.md\":\"D15ZzQJY\",\"api_functions_parsequery.md\":\"iDcXzoXC\",\"api_functions_stringifyquery.md\":\"BdMpWl8n\",\"api_functions_uselink.md\":\"TkpV8ONx\",\"api_functions_useroute.md\":\"BUQPrhaJ\",\"api_functions_userouter.md\":\"BYouBxf6\",\"api_index.md\":\"5sWoW2tL\",\"api_interfaces_historystate.md\":\"Rr39TmFh\",\"api_interfaces_locationasrelativeraw.md\":\"ByTjsZAp\",\"api_interfaces_matcherlocation.md\":\"BQ3NpTDg\",\"api_interfaces_matcherlocationaspath.md\":\"Rp6mJHiZ\",\"api_interfaces_navigationfailure.md\":\"DS-dMKOf\",\"api_interfaces_navigationguard.md\":\"Dqrp-pvP\",\"api_interfaces_navigationguardnext.md\":\"B3F34SXt\",\"api_interfaces_navigationguardwiththis.md\":\"cJ3ZPXuP\",\"api_interfaces_navigationhookafter.md\":\"BK0xfQ-f\",\"api_interfaces_navigationredirecterror.md\":\"BCX8POOq\",\"api_interfaces_pathparseroptions.md\":\"DJ1NJSIS\",\"api_interfaces_routelocationaspathgeneric.md\":\"DF8LlmFp\",\"api_interfaces_routelocationaspathtyped.md\":\"Da88wDh1\",\"api_interfaces_routelocationasrelativegeneric.md\":\"CAyHr2ue\",\"api_interfaces_routelocationasrelativetyped.md\":\"B8pmYThn\",\"api_interfaces_routelocationbase.md\":\"DPP4K9jd\",\"api_interfaces_routelocationgeneric.md\":\"DVUcWJJU\",\"api_interfaces_routelocationmatched.md\":\"Dnia3jjH\",\"api_interfaces_routelocationnamedraw.md\":\"CNvE7jx1\",\"api_interfaces_routelocationnormalizedgeneric.md\":\"C4wbfqkM\",\"api_interfaces_routelocationnormalizedloadedgeneric.md\":\"BF1CQ0_T\",\"api_interfaces_routelocationnormalizedloadedtyped.md\":\"CJXRn2lJ\",\"api_interfaces_routelocationnormalizedtyped.md\":\"r30SJv4Y\",\"api_interfaces_routelocationoptions.md\":\"D50eKHes\",\"api_interfaces_routelocationpathraw.md\":\"NrYWGUzd\",\"api_interfaces_routelocationresolvedgeneric.md\":\"SMgciziX\",\"api_interfaces_routelocationresolvedtyped.md\":\"gLpfRNId\",\"api_interfaces_routelocationtyped.md\":\"D3-zW-sP\",\"api_interfaces_routemeta.md\":\"ECGqMeUi\",\"api_interfaces_routequeryandhash.md\":\"Cn5iHorf\",\"api_interfaces_router.md\":\"Cdlr-StC\",\"api_interfaces_routerecordbase.md\":\"Br7cjXqp\",\"api_interfaces_routerecordinfo.md\":\"BTUNNYWg\",\"api_interfaces_routerecordmultipleviews.md\":\"CAZM_bng\",\"api_interfaces_routerecordmultipleviewswithchildren.md\":\"BFuWfbmk\",\"api_interfaces_routerecordnormalized.md\":\"Dhfzmo1x\",\"api_interfaces_routerecordredirect.md\":\"DvNie_K_\",\"api_interfaces_routerecordsingleview.md\":\"B66T2aj_\",\"api_interfaces_routerecordsingleviewwithchildren.md\":\"MZX86ue6\",\"api_interfaces_routerhistory.md\":\"C4_hRIez\",\"api_interfaces_routerlinki.md\":\"DrPV_rQf\",\"api_interfaces_routerlinkprops.md\":\"B7p5w3oW\",\"api_interfaces_routermatcher.md\":\"-1b3PsAj\",\"api_interfaces_routeroptions.md\":\"bQHaLE7R\",\"api_interfaces_routerscrollbehavior.md\":\"DNVBWo_D\",\"api_interfaces_routerviewprops.md\":\"BvUe3VtJ\",\"api_interfaces_typesconfig.md\":\"ClpTtbe2\",\"api_interfaces_uselinkoptions.md\":\"Ct-6Vrbz\",\"api_interfaces_uselinkreturn.md\":\"83Z_79GT\",\"api_type-aliases_awaitable.md\":\"Ds6_-1vA\",\"api_type-aliases_locationquery.md\":\"CIvjCaPc\",\"api_type-aliases_locationqueryraw.md\":\"CsXR1HXr\",\"api_type-aliases_locationqueryvalue.md\":\"CgbVd83n\",\"api_type-aliases_locationqueryvalueraw.md\":\"CNAUf6bi\",\"api_type-aliases_navigationguardnextcallback.md\":\"B71S-91V\",\"api_type-aliases_navigationguardreturn.md\":\"DDT9EIEH\",\"api_type-aliases_paramvalue.md\":\"CKGb3zyy\",\"api_type-aliases_paramvalueoneormore.md\":\"D-m2lBhd\",\"api_type-aliases_paramvaluezeroormore.md\":\"BINCvvq_\",\"api_type-aliases_paramvaluezeroorone.md\":\"Hi5VX47Q\",\"api_type-aliases_pathparseroptions.md\":\"CFEG9qL3\",\"api_type-aliases_routecomponent.md\":\"BwTMvZlK\",\"api_type-aliases_routelocation.md\":\"BM0AXtbc\",\"api_type-aliases_routelocationaspath.md\":\"hGwnPhim\",\"api_type-aliases_routelocationaspathtypedlist.md\":\"CWLTMh5P\",\"api_type-aliases_routelocationasrelative.md\":\"ClcQEtuN\",\"api_type-aliases_routelocationasrelativetypedlist.md\":\"CKJ3zlJf\",\"api_type-aliases_routelocationasstring.md\":\"DR-YGBMe\",\"api_type-aliases_routelocationasstringtyped.md\":\"C72PyTtY\",\"api_type-aliases_routelocationasstringtypedlist.md\":\"CuAOf4wk\",\"api_type-aliases_routelocationnormalized.md\":\"3aDh-p2Z\",\"api_type-aliases_routelocationnormalizedloaded.md\":\"D6_rs1vQ\",\"api_type-aliases_routelocationnormalizedloadedtypedlist.md\":\"BFPlUWwy\",\"api_type-aliases_routelocationnormalizedtypedlist.md\":\"7dzFrXrs\",\"api_type-aliases_routelocationraw.md\":\"DiMQO88O\",\"api_type-aliases_routelocationresolved.md\":\"CXvdf3DZ\",\"api_type-aliases_routelocationresolvedtypedlist.md\":\"CHjoAloT\",\"api_type-aliases_routelocationtypedlist.md\":\"DsiwC1QH\",\"api_type-aliases_routemap.md\":\"ED0pSj0F\",\"api_type-aliases_routemapgeneric.md\":\"DCWyC_Tx\",\"api_type-aliases_routeparams.md\":\"BiYImpYd\",\"api_type-aliases_routeparamsgeneric.md\":\"uLXIM7wr\",\"api_type-aliases_routeparamsraw.md\":\"C5MJBevd\",\"api_type-aliases_routeparamsrawgeneric.md\":\"DHhJ07AY\",\"api_type-aliases_routeparamvalue.md\":\"4msC3kJL\",\"api_type-aliases_routeparamvalueraw.md\":\"B3KdHb0f\",\"api_type-aliases_routerecord.md\":\"DNzi6udX\",\"api_type-aliases_routerecordinfogeneric.md\":\"Bkd8xS6a\",\"api_type-aliases_routerecordname.md\":\"B--UlNNe\",\"api_type-aliases_routerecordnamegeneric.md\":\"CU4vRXs8\",\"api_type-aliases_routerecordprops.md\":\"CCJ-qDQw\",\"api_type-aliases_routerecordraw.md\":\"DZ5aBSl8\",\"api_type-aliases_routerecordredirectoption.md\":\"DI9yfySD\",\"api_variables_matchedroutekey.md\":\"U6rinbCM\",\"api_variables_routelocationkey.md\":\"rozmOwuG\",\"api_variables_routerkey.md\":\"AnnBbS8S\",\"api_variables_routerlink.md\":\"B3SVSwLH\",\"api_variables_routerview.md\":\"Egn9s4yO\",\"api_variables_routerviewlocationkey.md\":\"CwV-fxfr\",\"api_variables_start_location.md\":\"B0uEfoIK\",\"api_variables_viewdepthkey.md\":\"-fdD6L45\",\"guide_advanced_composition-api.md\":\"DAWUYrR4\",\"guide_advanced_data-fetching.md\":\"CFxOYrfN\",\"guide_advanced_dynamic-routing.md\":\"-JxeaSGn\",\"guide_advanced_extending-router-link.md\":\"C20r1G26\",\"guide_advanced_lazy-loading.md\":\"DSOcLaIH\",\"guide_advanced_meta.md\":\"BW2xntUW\",\"guide_advanced_navigation-failures.md\":\"DyslYUnn\",\"guide_advanced_navigation-guards.md\":\"BnTFMeok\",\"guide_advanced_router-view-slot.md\":\"fXjxG8m2\",\"guide_advanced_scroll-behavior.md\":\"DumA_eU_\",\"guide_advanced_transitions.md\":\"CCCRmEwt\",\"guide_advanced_typed-routes.md\":\"BxQIgwiA\",\"guide_essentials_active-links.md\":\"DRyYCERN\",\"guide_essentials_dynamic-matching.md\":\"DPX8rP2E\",\"guide_essentials_history-mode.md\":\"DfGahm2J\",\"guide_essentials_named-routes.md\":\"_ANUsylX\",\"guide_essentials_named-views.md\":\"DWWPRtBc\",\"guide_essentials_navigation.md\":\"BFFk9ocU\",\"guide_essentials_nested-routes.md\":\"B1WlIjcr\",\"guide_essentials_passing-props.md\":\"CZiTUQhe\",\"guide_essentials_redirect-and-alias.md\":\"CJWP_QaF\",\"guide_essentials_route-matching-syntax.md\":\"Bow4f6Kq\",\"guide_index.md\":\"BJq4UeU4\",\"guide_migration_index.md\":\"BVqZUfuE\",\"index.md\":\"CdvyPLsm\",\"installation.md\":\"DbOgquWU\",\"introduction.md\":\"DjOsAOMa\",\"zh_about-translation.md\":\"CiMeU4ZC\",\"zh_api_enums_navigationfailuretype.md\":\"CNuVUWkb\",\"zh_api_index.md\":\"CN6PQqeo\",\"zh_api_interfaces_historystate.md\":\"ByF_bZyy\",\"zh_api_interfaces_navigationfailure.md\":\"GG9JaZQu\",\"zh_api_interfaces_navigationguard.md\":\"BkN6j8Ee\",\"zh_api_interfaces_navigationguardnext.md\":\"D_e_Zf48\",\"zh_api_interfaces_navigationguardwiththis.md\":\"CKGmoLMQ\",\"zh_api_interfaces_navigationhookafter.md\":\"CM_ki1NS\",\"zh_api_interfaces_routelocation.md\":\"BqImlfse\",\"zh_api_interfaces_routelocationmatched.md\":\"BTAEIppy\",\"zh_api_interfaces_routelocationnormalized.md\":\"BKRqoI-K\",\"zh_api_interfaces_routelocationnormalizedloaded.md\":\"M44QegOO\",\"zh_api_interfaces_routelocationoptions.md\":\"D9vTe9WE\",\"zh_api_interfaces_routemeta.md\":\"CmZ3dzi8\",\"zh_api_interfaces_router.md\":\"CUpKpFlz\",\"zh_api_interfaces_routerecordbase.md\":\"Do5luhNk\",\"zh_api_interfaces_routerecordmultipleviews.md\":\"BYSgzWOH\",\"zh_api_interfaces_routerecordmultipleviewswithchildren.md\":\"D2E4kJlq\",\"zh_api_interfaces_routerecordnormalized.md\":\"BxIDB0dC\",\"zh_api_interfaces_routerecordredirect.md\":\"CfZcBRRO\",\"zh_api_interfaces_routerecordsingleview.md\":\"BHhEBw1G\",\"zh_api_interfaces_routerecordsingleviewwithchildren.md\":\"DPkR8RPR\",\"zh_api_interfaces_routerhistory.md\":\"B51qVTqk\",\"zh_api_interfaces_routerlinkprops.md\":\"DQeij7uH\",\"zh_api_interfaces_routeroptions.md\":\"CF-KAH6A\",\"zh_api_interfaces_routerscrollbehavior.md\":\"DP25ur3t\",\"zh_api_interfaces_routerviewprops.md\":\"B-7L8Qdw\",\"zh_guide_advanced_composition-api.md\":\"IWn6rxsi\",\"zh_guide_advanced_data-fetching.md\":\"C7RWUec9\",\"zh_guide_advanced_dynamic-routing.md\":\"BSo1PVh8\",\"zh_guide_advanced_extending-router-link.md\":\"Bet-mQXa\",\"zh_guide_advanced_lazy-loading.md\":\"z3bTx4xx\",\"zh_guide_advanced_meta.md\":\"BB1PMdvQ\",\"zh_guide_advanced_navigation-failures.md\":\"868S9-cs\",\"zh_guide_advanced_navigation-guards.md\":\"D17tY8Jz\",\"zh_guide_advanced_router-view-slot.md\":\"B2l8kRN7\",\"zh_guide_advanced_scroll-behavior.md\":\"BnVRbHCI\",\"zh_guide_advanced_transitions.md\":\"5_on6l_5\",\"zh_guide_advanced_typed-routes.md\":\"Cpd9SPHj\",\"zh_guide_essentials_active-links.md\":\"Yfaf-g7S\",\"zh_guide_essentials_dynamic-matching.md\":\"DxPzdeKT\",\"zh_guide_essentials_history-mode.md\":\"C9pvlapc\",\"zh_guide_essentials_named-routes.md\":\"CnJ_cnVP\",\"zh_guide_essentials_named-views.md\":\"_0LcXW-_\",\"zh_guide_essentials_navigation.md\":\"QvMge_h6\",\"zh_guide_essentials_nested-routes.md\":\"DdYGucx_\",\"zh_guide_essentials_passing-props.md\":\"2wmsDrGu\",\"zh_guide_essentials_redirect-and-alias.md\":\"CMYdqyWC\",\"zh_guide_essentials_route-matching-syntax.md\":\"BxtOaKIZ\",\"zh_guide_index.md\":\"DB1WG8xD\",\"zh_guide_migration_index.md\":\"BeZ_OOLX\",\"zh_index.md\":\"CuFPnWFR\",\"zh_installation.md\":\"teZzrfRw\",\"zh_introduction.md\":\"B1Nbp1sR\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Vue Router\",\"description\":\"A VitePress site\",\"base\":\"/vue-router/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"dark\",\"themeConfig\":{\"logo\":\"/logo.svg\",\"outline\":[2,3],\"socialLinks\":[{\"icon\":\"x\",\"link\":\"https://twitter.com/posva\"},{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/router\"},{\"icon\":\"discord\",\"link\":\"https://chat.vuejs.org\"}],\"footer\":{\"copyright\":\"Copyright © 2014-present Evan You, Eduardo San Martin Morote\",\"message\":\"Released under the MIT License.\"},\"editLink\":{\"pattern\":\"https://github.com/vuejs/router/edit/main/packages/docs/:path\",\"text\":\"Suggest changes\"},\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"BTNTW3I1XP\",\"apiKey\":\"771d10c8c5cc48f7922f15048b4d931c\",\"indexName\":\"next_router_vuejs\",\"locales\":{\"zh\":{\"placeholder\":\"搜索文档\",\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"searchBox\":{\"resetButtonTitle\":\"清除查询条件\",\"resetButtonAriaLabel\":\"清除查询条件\",\"cancelButtonText\":\"取消\",\"cancelButtonAriaLabel\":\"取消\"},\"startScreen\":{\"recentSearchesTitle\":\"搜索历史\",\"noRecentSearchesText\":\"没有搜索历史\",\"saveRecentSearchButtonTitle\":\"保存至搜索历史\",\"removeRecentSearchButtonTitle\":\"从搜索历史中移除\",\"favoriteSearchesTitle\":\"收藏\",\"removeFavoriteSearchButtonTitle\":\"从收藏中移除\"},\"errorScreen\":{\"titleText\":\"无法获取结果\",\"helpText\":\"你可能需要检查你的网络连接\"},\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\",\"searchByText\":\"搜索供应商\"},\"noResultsScreen\":{\"noResultsText\":\"无法找到相关结果\",\"suggestedQueryText\":\"你可以尝试查询\",\"reportMissingResultsText\":\"你认为该查询应该有结果？\",\"reportMissingResultsLinkText\":\"点击反馈\"}}}}}}},\"carbonAds\":{\"code\":\"CEBICK3I\",\"placement\":\"routervuejsorg\"}},\"locales\":{\"root\":{\"label\":\"简体中文\",\"lang\":\"zh-CN\",\"link\":\"/zh/\",\"description\":\"Vue.js 的官方路由\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://router.vuejs.org\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"Vue.js 的官方路由\"}],[\"meta\",{\"property\":\"twitter:url\",\"content\":\"https://router.vuejs.org\"}],[\"meta\",{\"property\":\"twitter:title\",\"content\":\"Vue Router\"}],[\"meta\",{\"property\":\"twitter:description\",\"content\":\"Vue.js 的官方路由\"}]],\"themeConfig\":{\"editLink\":{\"pattern\":\"https://github.com/vuejs/router/edit/main/packages/docs/:path\",\"text\":\"对本页提出修改建议\"},\"outlineTitle\":\"本页内容\",\"nav\":[{\"text\":\"教程\",\"link\":\"/zh/guide/\",\"activeMatch\":\"^/zh/guide/\"},{\"text\":\"API 参考\",\"link\":\"/zh/api/\",\"activeMatch\":\"^/zh/api/\"},{\"text\":\"v4.x\",\"items\":[{\"text\":\"v3.x\",\"link\":\"https://v3.router.vuejs.org/zh\"}]},{\"text\":\"相关链接\",\"items\":[{\"text\":\"Discussions\",\"link\":\"https://github.com/vuejs/router/discussions\"},{\"text\":\"更新日志\",\"link\":\"https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md\"},{\"text\":\"Vue.js 认证\",\"link\":\"https://certificates.dev/vuejs/?friend=VUEROUTER&utm_source=router_vuejs&utm_medium=link&utm_campaign=router_vuejs_links&utm_content=navbar\"}]}],\"sidebar\":{\"/zh/\":[{\"text\":\"设置\",\"items\":[{\"text\":\"介绍\",\"link\":\"/zh/introduction.html\"},{\"text\":\"安装\",\"link\":\"/zh/installation.html\"}]},{\"text\":\"基础\",\"items\":[{\"text\":\"入门\",\"link\":\"/zh/guide/\"},{\"text\":\"动态路由匹配\",\"link\":\"/zh/guide/essentials/dynamic-matching.html\"},{\"text\":\"路由的匹配语法\",\"link\":\"/zh/guide/essentials/route-matching-syntax.html\"},{\"text\":\"嵌套路由\",\"link\":\"/zh/guide/essentials/nested-routes.html\"},{\"text\":\"命名路由\",\"link\":\"/zh/guide/essentials/named-routes.html\"},{\"text\":\"编程式导航\",\"link\":\"/zh/guide/essentials/navigation.html\"},{\"text\":\"命名视图\",\"link\":\"/zh/guide/essentials/named-views.html\"},{\"text\":\"重定向和别名\",\"link\":\"/zh/guide/essentials/redirect-and-alias.html\"},{\"text\":\"路由组件传参\",\"link\":\"/zh/guide/essentials/passing-props.html\"},{\"text\":\"匹配当前路由的链接\",\"link\":\"/zh/guide/essentials/active-links.html\"},{\"text\":\"不同的历史记录模式\",\"link\":\"/zh/guide/essentials/history-mode.html\"}]},{\"text\":\"进阶\",\"items\":[{\"text\":\"导航守卫\",\"link\":\"/zh/guide/advanced/navigation-guards.html\"},{\"text\":\"路由元信息\",\"link\":\"/zh/guide/advanced/meta.html\"},{\"text\":\"数据获取\",\"link\":\"/zh/guide/advanced/data-fetching.html\"},{\"text\":\"组合式 API\",\"link\":\"/zh/guide/advanced/composition-api.html\"},{\"text\":\"RouterView 插槽\",\"link\":\"/zh/guide/advanced/router-view-slot.html\"},{\"text\":\"过渡动效\",\"link\":\"/zh/guide/advanced/transitions.html\"},{\"text\":\"滚动行为\",\"link\":\"/zh/guide/advanced/scroll-behavior.html\"},{\"text\":\"路由懒加载\",\"link\":\"/zh/guide/advanced/lazy-loading.html\"},{\"text\":\"类型化路由\",\"link\":\"/zh/guide/advanced/typed-routes.html\"},{\"text\":\"扩展 RouterLink\",\"link\":\"/zh/guide/advanced/extending-router-link.html\"},{\"text\":\"导航故障\",\"link\":\"/zh/guide/advanced/navigation-failures.html\"},{\"text\":\"动态路由\",\"link\":\"/zh/guide/advanced/dynamic-routing.html\"}]},{\"items\":[{\"text\":\"从 Vue2 迁移\",\"link\":\"/zh/guide/migration/index.html\"},{\"text\":\"关于中文翻译\",\"link\":\"/zh/about-translation.html\"}]}],\"/zh/api/\":[{\"text\":\"packages\",\"items\":[{\"text\":\"vue-router\",\"link\":\"/zh/api/\"}]}]}}},\"ko\":{\"label\":\"한국어\",\"lang\":\"ko-KR\",\"link\":\"https://router.vuejs.kr/\"},\"pt\":{\"label\":\"Português\",\"lang\":\"pt-PT\",\"link\":\"https://vue-router-docs-pt.netlify.app/\"},\"ru\":{\"label\":\"Русский\",\"lang\":\"ru-RU\",\"link\":\"https://vue-router-ru.netlify.app\"}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>