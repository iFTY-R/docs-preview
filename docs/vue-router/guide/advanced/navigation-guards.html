<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Navigation Guards | Vue Router</title>
    <meta name="description" content="Vue.js 的官方路由">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/vue-router/assets/style.BkR8nY9w.css" as="style">
    <link rel="preload stylesheet" href="/vue-router/vp-icons.css" as="style">
    
    <script type="module" src="/vue-router/assets/app.C21CfzrJ.js"></script>
    <link rel="preload" href="/vue-router/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/vue-router/assets/chunks/theme.DgxoWTL-.js">
    <link rel="modulepreload" href="/vue-router/assets/chunks/framework.XosO8Wyc.js">
    <link rel="modulepreload" href="/vue-router/assets/guide_advanced_navigation-guards.md.BnTFMeok.lean.js">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <link rel="icon" type="image/png" href="/logo.png">
    <meta name="wwads-cn-verify" content="7e7757b1e12abcb736ab9a754ffb617a">
    <meta property="og:type" content="website">
    <meta property="twitter:card" content="summary_large_image">
    <script src="https://cdn.usefathom.com/script.js" data-site="RENJQDQI" data-spa="auto" defer></script>
    <script src="https://vueschool.io/banner.js?affiliate=vuerouter&amp;type=top" async type="text/javascript"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:url" content="https://router.vuejs.org">
    <meta property="og:description" content="Vue.js 的官方路由">
    <meta property="twitter:url" content="https://router.vuejs.org">
    <meta property="twitter:title" content="Vue Router">
    <meta property="twitter:description" content="Vue.js 的官方路由">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-ca399dd3><!--[--><!--]--><!--[--><span tabindex="-1" data-v-92be74e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-92be74e0> Skip to content </a><!--]--><!----><header class="VPNav" data-v-ca399dd3 data-v-371778d9><div class="VPNavBar" data-v-371778d9 data-v-c6eea7e1><div class="wrapper" data-v-c6eea7e1><div class="container" data-v-c6eea7e1><div class="title" data-v-c6eea7e1><div class="VPNavBarTitle" data-v-c6eea7e1 data-v-2c50c9e3><a class="title" href="/vue-router/zh/" data-v-2c50c9e3><!--[--><!--]--><!--[--><img class="VPImage logo" src="/vue-router/logo.svg" alt data-v-62f6d923><!--]--><span data-v-2c50c9e3>Vue Router</span><!--[--><!--]--></a></div></div><div class="content" data-v-c6eea7e1><div class="content-body" data-v-c6eea7e1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-c6eea7e1><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-c6eea7e1 data-v-d37acdd5><span id="main-nav-aria-label" class="visually-hidden" data-v-d37acdd5> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue-router/zh/guide/" tabindex="0" data-v-d37acdd5 data-v-53754e6a><!--[--><span data-v-53754e6a>教程</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue-router/zh/api/" tabindex="0" data-v-d37acdd5 data-v-53754e6a><!--[--><span data-v-53754e6a>API 参考</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d37acdd5 data-v-6219c420><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6219c420><span class="text" data-v-6219c420><!----><span data-v-6219c420>v4.x</span><span class="vpi-chevron-down text-icon" data-v-6219c420></span></span></button><div class="menu" data-v-6219c420><div class="VPMenu" data-v-6219c420 data-v-209e09aa><div class="items" data-v-209e09aa><!--[--><!--[--><div class="VPMenuLink" data-v-209e09aa data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://v3.router.vuejs.org/zh" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>v3.x</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d37acdd5 data-v-6219c420><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6219c420><span class="text" data-v-6219c420><!----><span data-v-6219c420>相关链接</span><span class="vpi-chevron-down text-icon" data-v-6219c420></span></span></button><div class="menu" data-v-6219c420><div class="VPMenu" data-v-6219c420 data-v-209e09aa><div class="items" data-v-209e09aa><!--[--><!--[--><div class="VPMenuLink" data-v-209e09aa data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://github.com/vuejs/router/discussions" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Discussions</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-209e09aa data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>更新日志</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-209e09aa data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://certificates.dev/vuejs/?friend=VUEROUTER&amp;utm_source=router_vuejs&amp;utm_medium=link&amp;utm_campaign=router_vuejs_links&amp;utm_content=navbar" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Vue.js 认证</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-c6eea7e1 data-v-10e75d52 data-v-6219c420><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-6219c420><span class="text" data-v-6219c420><span class="vpi-languages option-icon" data-v-6219c420></span><!----><span class="vpi-chevron-down text-icon" data-v-6219c420></span></span></button><div class="menu" data-v-6219c420><div class="VPMenu" data-v-6219c420 data-v-209e09aa><!----><!--[--><!--[--><div class="items" data-v-10e75d52><p class="title" data-v-10e75d52>简体中文</p><!--[--><div class="VPMenuLink" data-v-10e75d52 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://router.vuejs.kr/de/advanced/navigation-guards.html" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>한국어</span><!--]--></a></div><div class="VPMenuLink" data-v-10e75d52 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://vue-router-docs-pt.netlify.app/de/advanced/navigation-guards.html" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Português</span><!--]--></a></div><div class="VPMenuLink" data-v-10e75d52 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://vue-router-ru.netlify.app/de/advanced/navigation-guards.html" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Русский</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-c6eea7e1 data-v-ce64b3ed><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-ce64b3ed data-v-69d23250 data-v-ab854be5><span class="check" data-v-ab854be5><span class="icon" data-v-ab854be5><!--[--><span class="vpi-sun sun" data-v-69d23250></span><span class="vpi-moon moon" data-v-69d23250></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-c6eea7e1 data-v-282160b7 data-v-c5ee75ec><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/posva" aria-label="x" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://github.com/vuejs/router" aria-label="github" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://chat.vuejs.org" aria-label="discord" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-discord"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-c6eea7e1 data-v-d6de2221 data-v-6219c420><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6219c420><span class="vpi-more-horizontal icon" data-v-6219c420></span></button><div class="menu" data-v-6219c420><div class="VPMenu" data-v-6219c420 data-v-209e09aa><!----><!--[--><!--[--><div class="group translations" data-v-d6de2221><p class="trans-title" data-v-d6de2221>简体中文</p><!--[--><div class="VPMenuLink" data-v-d6de2221 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://router.vuejs.kr/de/advanced/navigation-guards.html" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>한국어</span><!--]--></a></div><div class="VPMenuLink" data-v-d6de2221 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://vue-router-docs-pt.netlify.app/de/advanced/navigation-guards.html" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Português</span><!--]--></a></div><div class="VPMenuLink" data-v-d6de2221 data-v-4288e2f0><a class="VPLink link vp-external-link-icon" href="https://vue-router-ru.netlify.app/de/advanced/navigation-guards.html" target="_blank" rel="noreferrer" data-v-4288e2f0><!--[--><span data-v-4288e2f0>Русский</span><!--]--></a></div><!--]--></div><div class="group" data-v-d6de2221><div class="item appearance" data-v-d6de2221><p class="label" data-v-d6de2221>Appearance</p><div class="appearance-action" data-v-d6de2221><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="true" data-v-d6de2221 data-v-69d23250 data-v-ab854be5><span class="check" data-v-ab854be5><span class="icon" data-v-ab854be5><!--[--><span class="vpi-sun sun" data-v-69d23250></span><span class="vpi-moon moon" data-v-69d23250></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d6de2221><div class="item social-links" data-v-d6de2221><div class="VPSocialLinks social-links-list" data-v-d6de2221 data-v-c5ee75ec><!--[--><a class="VPSocialLink no-icon" href="https://twitter.com/posva" aria-label="x" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://github.com/vuejs/router" aria-label="github" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://chat.vuejs.org" aria-label="discord" target="_blank" rel="noopener" data-v-c5ee75ec data-v-ad8ee3e9><span class="vpi-social-discord"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c6eea7e1 data-v-48634493><span class="container" data-v-48634493><span class="top" data-v-48634493></span><span class="middle" data-v-48634493></span><span class="bottom" data-v-48634493></span></span></button></div></div></div></div><div class="divider" data-v-c6eea7e1><div class="divider-line" data-v-c6eea7e1></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-ca399dd3 data-v-f9d90200><div class="container" data-v-f9d90200><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-f9d90200 data-v-b92dfab5><button data-v-b92dfab5>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-ca399dd3 data-v-7c15baf6><div class="VPDoc has-aside" data-v-7c15baf6 data-v-3be6e9fc><!--[--><!--]--><div class="container" data-v-3be6e9fc><div class="aside" data-v-3be6e9fc><div class="aside-curtain" data-v-3be6e9fc></div><div class="aside-container" data-v-3be6e9fc><div class="aside-content" data-v-3be6e9fc><div class="VPDocAside" data-v-3be6e9fc data-v-a186fc1c><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-a186fc1c data-v-ab382b2c><div class="content" data-v-ab382b2c><div class="outline-marker" data-v-ab382b2c></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-ab382b2c>本页内容</div><ul class="VPDocOutlineItem root" data-v-ab382b2c data-v-8d1f4476><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-a186fc1c></div><!--[--><!--[--><!--[--><!--[--><!--[--><div class="VPDocAsideSponsors" data-v-a73da138><div class="VPSponsors vp-sponsor aside"><!--[--><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid mini"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://www.coderabbit.ai/?utm_source=vuerouter&amp;utm_medium=sponsor" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">CodeRabbit</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/coderabbitai-light.svg" alt="CodeRabbit"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://github.com/sponsors/posva" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">Become a sponsor</h4><img class="vp-sponsor-grid-image" src="/your-logo-here.svg" alt="Become a sponsor"></article></a></div><!--]--></div></section><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid xmini"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://www.vuemastery.com/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">VueMastery</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/vuemastery-light.svg" alt="VueMastery"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://www.prefect.io/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">Prefect</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/prefectlogo-light.svg" alt="Prefect"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://www.controla.ai/?utm_source=posva" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">Controla</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/controla-light.png" alt="Controla"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://route4me.com" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">Route Optimizer and Route Planner Software</h4><img class="vp-sponsor-grid-image" src="https://posva-sponsors.pages.dev/logos/route4me.png" alt="Route Optimizer and Route Planner Software"></article></a></div><!--]--></div></section><!--]--></div></div><a class="banner mp" href="https://masteringpinia.com/?utm_source=affiliate&amp;utm_medium=vuerouter&amp;utm_campaign=VueRouter_MP&amp;utm_content=sidebar" target="_blank" data-v-a73da138><img width="22" height="22" src="/vue-router/mp-pinia-logo.svg" data-v-a73da138><span data-v-a73da138><p class="extra-info" data-v-a73da138>Complete guide to</p><p class="heading" data-v-a73da138>Mastering Pinia</p><p class="extra-info" data-v-a73da138>written by its creator</p></span></a><a class="banner cert" href="https://certificates.dev/vuejs/?friend=VUEROUTER&amp;utm_source=router_vuejs&amp;utm_medium=link&amp;utm_campaign=router_vuejs_links&amp;utm_content=sidebar" target="_blank" data-v-a73da138><img width="22" height="22" src="/vue-router/vue-cert-logo.svg" data-v-a73da138><span data-v-a73da138><p class="extra-info" data-v-a73da138>The official</p><p class="heading" data-v-a73da138>Vue.js Certification</p><p class="extra-info" data-v-a73da138>Get certified!</p></span></a><!--]--><!--]--><!--]--><!--]--><!--]--><div class="VPDocAsideCarbonAds" data-v-a186fc1c><div class="VPCarbonAds" data-v-77d1ecb2></div></div><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-3be6e9fc><div class="content-container" data-v-3be6e9fc><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><main class="main" data-v-3be6e9fc><div style="position:relative;" class="vp-doc _vue-router_guide_advanced_navigation-guards" data-v-3be6e9fc><div><h1 id="Navigation-Guards" tabindex="-1">Navigation Guards <a class="header-anchor" href="#Navigation-Guards" aria-label="Permalink to &quot;Navigation Guards&quot;">​</a></h1><div class="vueschool" data-v-167b9b7e><a href="https://vueschool.io/lessons/route-guards?friend=vuerouter" target="_blank" rel="sponsored noopener" title="Learn how to add navigation guards" class="no-icon" data-v-167b9b7e><!--[-->在 Vue School 上观看免费视频课程<!--]--></a></div><div class="rulekit" data-v-193a8afe><a href="https://rulekit.dev?from=vuerouter" target="_blank" rel="sponsored noopener" aria-label="Visit RuleKit - curated rules for Cursor, Claude Code, and more (opens in new tab)" class="rulekit-link" data-v-193a8afe><div class="rulekit-content" data-v-193a8afe><div class="rulekit-left" data-v-193a8afe><span class="rulekit-sparkles" aria-hidden="true" data-v-193a8afe>✨</span><span class="rulekit-text" data-v-193a8afe><!--[-->自信地编写 Vue 应用的 Vibe 代码<!--]--></span></div><div class="rulekit-right" data-v-193a8afe><svg width="1024" height="1024" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" alt="RuleKit logo" class="rulekit-logo" data-v-193a8afe><path d="M335 694L353.947 697.225V737L335 733.775V694Z" fill="currentColor" data-v-193a8afe></path><path d="M355 538.234V673L335 669.766V536.078L355 538.234Z" fill="currentColor" data-v-193a8afe></path><path d="M259.255 329.5L313.424 338.585V414.78L374.576 425.512V350.39L422.5 359.457L422.529 391.816L399.251 388.374V443.756L375.649 440.537V460.314L313.424 449.576V430.878L287.675 426.585L286.602 367.561L259.255 364V329.5Z" fill="currentColor" data-v-193a8afe></path><path d="M398.897 113.5L647.031 158.597V199L676.034 205.5V276L836.085 304.623L896.239 362.605V498.968L873.681 516.147V778.5L914.5 792.095L755.522 914.5L180.84 802.832L130.354 738.409V472.125L103.5 457.092V336.835L164.728 270.264L291.48 205.5L321.557 211V176.85L350.56 165.5V139L398.897 113.5ZM379.562 148.933V184L350.56 182.218L349.485 259.527L379.562 263.822V184L582.581 218.725V300.328L622.325 307V224.094L598.693 220.873V188.661L379.562 148.933ZM433.271 218.725V234.831L561.097 257.379V240.2L433.271 218.725ZM291.48 234.831L223.807 272.412L740.484 364.752L802.786 325.024L673.885 302.476L622.325 330L561.097 319V282L433.271 259.527L389.23 285.296L321.557 275V240.2L291.48 234.831ZM180.84 288.517L128.206 343.277V440.537L233.475 461.387L232.401 360.457L259.255 364V446L284.103 449.576V476.42L311.889 480.714V750L373.117 762L374.191 691.165V493.599L399.251 497V472.125L422.5 476.42L422.529 391.816L449.383 396.964V500L543.911 516V414.143L571.839 418.438V388.374L624.474 396.964V423.807L652.402 428V534.5L778.08 551.5V443.756L731 392.244L180.84 288.517ZM831.789 336.835L757.671 383.005L796.341 423.807L871.533 374.416L831.789 336.835ZM807.083 445.281V529.032L871.533 486.083V404.48L807.083 445.281ZM571.839 449.576V521.516L587 524.5V592L606.213 595.603V527.5L624.474 531V458.5L571.839 449.576ZM155.06 472.125V729.5L191.5 778.5L713 880.5L754.448 853.298V579.497L635.215 560.17V601L682.479 609.562V649.29L663.144 647V682.575L682.479 684.723L683.5 814.5L652.402 808.201V839L543.911 819.5V788.874L511.685 783.505V654.5L532.095 658.5V623.52L511.685 620.299V578.424L557.875 585.94V545.138L422.5 521.516L402.12 538.234V654.658V766.326L373.117 762V791.021L311.889 778.5V750L285.035 744.851V512.926L264.5 493.599L155.06 472.125ZM778.08 579.497L780.228 833.971L847.901 781.358V538.234L778.08 579.497ZM561.097 627.5V664.5L543.911 661V788.874L565.394 793.169L567 669L584.729 672V632.5L561.097 627.5ZM611.583 639.626V676.5L628.77 679V802.832L652.402 808.201V682.575L635.215 680.428V643L611.583 639.626Z" fill="currentColor" data-v-193a8afe></path></svg><span class="rulekit-title" data-v-193a8afe>RuleKit</span></div></div></a></div><p>As the name suggests, the navigation guards provided by Vue router are primarily used to guard navigations either by redirecting it or canceling it. There are a number of ways to hook into the route navigation process: globally, per-route, or in-component.</p><h2 id="Global-Before-Guards" tabindex="-1">Global Before Guards <a class="header-anchor" href="#Global-Before-Guards" aria-label="Permalink to &quot;Global Before Guards&quot;">​</a></h2><p>You can register global before guards using <code>router.beforeEach</code>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> router</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> createRouter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#ABB2BF;--shiki-light:#D73A49;">...</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeEach</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">((</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // ...</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // explicitly return false to cancel the navigation</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  return</span><span style="--shiki-dark:#D19A66;--shiki-light:#005CC5;"> false</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><p>Global before guards are called in creation order, whenever a navigation is triggered. Guards may be resolved asynchronously, and the navigation is considered <strong>pending</strong> before all hooks have been resolved.</p><p>Every guard function receives two arguments:</p><ul><li><strong><code>to</code></strong>: the target route location <a href="./../../api/#RouteLocationNormalized">in a normalized format</a> being navigated to.</li><li><strong><code>from</code></strong>: the current route location <a href="./../../api/#RouteLocationNormalized">in a normalized format</a> being navigated away from.</li></ul><p>And can optionally return any of the following values:</p><ul><li><p><code>false</code>: cancel the current navigation. If the browser URL was changed (either manually by the user or via back button), it will be reset to that of the <code>from</code> route.</p></li><li><p>A <a href="./../../api/#RouteLocationRaw">Route Location</a>: Redirect to a different location by passing a route location as if you were calling <code>router.push()</code>, which allows you to pass options like <code>replace: true</code> or <code>name: &#39;home&#39;</code>. The current navigation is dropped and a new one is created with the same <code>from</code>.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeEach</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">async</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // make sure the user is authenticated</span></span>
<span class="line"><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;">    !</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">isAuthenticated</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // ❗️ Avoid an infinite redirect</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">    to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> !==</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;"> &#39;Login&#39;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  ) {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // redirect the user to the login page</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">    return</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;Login&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  }</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div></li></ul><p>It&#39;s also possible to throw an <code>Error</code> if an unexpected situation was met. This will also cancel the navigation and call any callback registered via <a href="./../../api/interfaces/Router.html#onError"><code>router.onError()</code></a>.</p><p>If nothing, <code>undefined</code> or <code>true</code> is returned, <strong>the navigation is validated</strong>, and the next navigation guard is called.</p><p>All of the things above <strong>work the same way with <code>async</code> functions</strong> and Promises:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeEach</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">async</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // canUserAccess() returns `true` or `false`</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> canAccess</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;"> await</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> canUserAccess</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;">!</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">canAccess</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">return</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;"> &#39;/login&#39;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><h3 id="Optional-third-argument-next" tabindex="-1">Optional third argument <code>next</code> <a class="header-anchor" href="#Optional-third-argument-next" aria-label="Permalink to &quot;Optional third argument `next`&quot;">​</a></h3><p>In previous versions of Vue Router, it was also possible to use a <em>third argument</em> <code>next</code>, this was a common source of mistakes and went through an <a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0037-router-return-guards.md#motivation" target="_blank" rel="noreferrer">RFC</a> to remove it. However, it is still supported, meaning you can pass a third argument to any navigation guard. In that case, <strong>you must call <code>next</code> exactly once</strong> in any given pass through a navigation guard. It can appear more than once, but only if the logical paths have no overlap, otherwise the hook will never be resolved or produce errors. Here is <strong>a bad example</strong> of redirecting the user to <code>/login</code> if they are not authenticated:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// BAD</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeEach</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">((</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">next</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> !==</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;"> &#39;Login&#39;</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> &amp;&amp;</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> !</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">isAuthenticated</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">next</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;Login&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> })</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // if the user is not authenticated, `next` is called twice</span></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">  next</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">()</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><p>Here is the correct version:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// GOOD</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeEach</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">((</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">next</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> !==</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;"> &#39;Login&#39;</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> &amp;&amp;</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> !</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">isAuthenticated</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">next</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">({ </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;Login&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> })</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  else</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> next</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">()</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><h2 id="Global-Resolve-Guards" tabindex="-1">Global Resolve Guards <a class="header-anchor" href="#Global-Resolve-Guards" aria-label="Permalink to &quot;Global Resolve Guards&quot;">​</a></h2><p>You can register a global guard with <code>router.beforeResolve</code>. This is similar to <code>router.beforeEach</code> because it triggers on <strong>every navigation</strong>, but resolve guards are called right before the navigation is confirmed, <strong>after all in-component guards and async route components are resolved</strong>. Here is an example that ensures the user has given access to the Camera for routes that <a href="./meta.html">have defined a custom meta</a> property <code>requiresCamera</code>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeResolve</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">async</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;"> to</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">meta</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">requiresCamera</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">    try</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">      await</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> askForCameraPermission</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">()</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    } </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">catch</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">error</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">      if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">error</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;"> instanceof</span><span style="--shiki-dark:#E5C07B;--shiki-light:#6F42C1;"> NotAllowedError</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">        // ... handle the error and then cancel the navigation</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">        return</span><span style="--shiki-dark:#D19A66;--shiki-light:#005CC5;"> false</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      } </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">else</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">        // unexpected error, cancel the navigation and pass the error to the global handler</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">        throw</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;"> error</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      }</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    }</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  }</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><p><code>router.beforeResolve</code> is the ideal spot to fetch data or do any other operation that you want to avoid doing if the user cannot enter a page.</p><h2 id="Global-After-Hooks" tabindex="-1">Global After Hooks <a class="header-anchor" href="#Global-After-Hooks" aria-label="Permalink to &quot;Global After Hooks&quot;">​</a></h2><p>You can also register global after hooks, however unlike guards, these hooks do not get a <code>next</code> function and cannot affect the navigation:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">afterEach</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">((</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">  sendToAnalytics</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">fullPath</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><p>They are useful for analytics, changing the title of the page, accessibility features like announcing the page and many other things.</p><p>They also reflect <a href="./navigation-failures.html">navigation failures</a> as the third argument:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">afterEach</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">((</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">failure</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;">!</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">failure</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">sendToAnalytics</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">fullPath</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><p>Learn more about navigation failures on <a href="./navigation-failures.html">its guide</a>.</p><h2 id="Global-injections-within-guards" tabindex="-1">Global injections within guards <a class="header-anchor" href="#Global-injections-within-guards" aria-label="Permalink to &quot;Global injections within guards&quot;">​</a></h2><p>Since Vue 3.3, it is possible to use <code>inject()</code> within navigation guards. This is useful for injecting global properties like the <a href="https://pinia.vuejs.org" target="_blank" rel="noreferrer">pinia stores</a>. Anything that is provided with <code>app.provide()</code> is also accessible within <code>router.beforeEach()</code>, <code>router.beforeResolve()</code>, <code>router.afterEach()</code>:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// main.ts</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> app</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> createApp</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">App</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">app</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">provide</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;global&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;hello injections&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// router.ts or main.ts</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">router</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeEach</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">((</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> global</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> inject</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;global&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">// &#39;hello injections&#39;</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // a pinia store</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> userStore</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> useAuthStore</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">()</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // ...</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">})</span></span></code></pre></div><h2 id="Per-Route-Guard" tabindex="-1">Per-Route Guard <a class="header-anchor" href="#Per-Route-Guard" aria-label="Permalink to &quot;Per-Route Guard&quot;">​</a></h2><p>You can define <code>beforeEnter</code> guards directly on a route&#39;s configuration object:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> routes</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> [</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  {</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/users/:id&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">UserDetails</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">    beforeEnter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: (</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">=&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">      // reject the navigation</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">      return</span><span style="--shiki-dark:#D19A66;--shiki-light:#005CC5;"> false</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">]</span></span></code></pre></div><p><code>beforeEnter</code> guards <strong>only trigger when entering the route</strong>, they don&#39;t trigger when the <code>params</code>, <code>query</code> or <code>hash</code> change e.g. going from <code>/users/2</code> to <code>/users/3</code> or going from <code>/users/2#info</code> to <code>/users/2#projects</code>. They are only triggered when navigating <strong>from a different</strong> route.</p><p>You can also pass an array of functions to <code>beforeEnter</code>, this is useful when reusing guards for different routes:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">function</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> removeQueryParams</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">Object</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">keys</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">query</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">).</span><span style="--shiki-dark:#E06C75;--shiki-light:#005CC5;">length</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">    return</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">query</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: {}, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">hash</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">hash</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">function</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;"> removeHash</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">hash</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">return</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">query</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">query</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">hash</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> }</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> routes</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> [</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  {</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/users/:id&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">UserDetails</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    beforeEnter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: [</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">removeQueryParams</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">removeHash</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">],</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  {</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/about&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">UserDetails</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    beforeEnter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: [</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">removeQueryParams</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">],</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">]</span></span></code></pre></div><p>When working with <a href="./../essentials/nested-routes.html">nested routes</a>, both parent and child routes can use <code>beforeEnter</code>. When placed on a parent route, it won&#39;t be triggered when moving between children with that same parent. For example:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> routes</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> [</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  {</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;/user&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">,</span></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">    beforeEnter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">() {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">      // ...</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    },</span></span>
<span class="line"><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">    children</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: [</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;list&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">UserList</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">      { </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">path</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;details&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">component</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">: </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">UserDetails</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">    ],</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">]</span></span></code></pre></div><p>The <code>beforeEnter</code> in the example above won&#39;t be called when moving between <code>/user/list</code> and <code>/user/details</code>, as they share the same parent. If we put the <code>beforeEnter</code> guard directly on the <code>details</code> route instead, that would be called when moving between those two routes.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>It is possible to achieve similar behavior to per-route guards by using <a href="./meta.html">route meta fields</a> and global navigation guards.</p></div><h2 id="In-Component-Guards" tabindex="-1">In-Component Guards <a class="header-anchor" href="#In-Component-Guards" aria-label="Permalink to &quot;In-Component Guards&quot;">​</a></h2><p>Finally, you can directly define route navigation guards inside route components (the ones passed to the router configuration)</p><h3 id="Using-the-Options-API" tabindex="-1">Using the Options API <a class="header-anchor" href="#Using-the-Options-API" aria-label="Permalink to &quot;Using the Options API&quot;">​</a></h3><p>You can add the following options to route components:</p><ul><li><code>beforeRouteEnter</code></li><li><code>beforeRouteUpdate</code></li><li><code>beforeRouteLeave</code></li></ul><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">script</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">export</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;"> default</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">  beforeRouteEnter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // called before the route that renders this component is confirmed.</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // does NOT have access to `this` component instance,</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // because it has not been created yet when this guard is called!</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  },</span></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">  beforeRouteUpdate</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // called when the route that renders this component has changed, but this component is reused in the new route.</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // For example, given a route with params `/users/:id`, when we navigate between `/users/1` and `/users/2`,</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // the same `UserDetails` component instance will be reused, and this hook will be called when that happens.</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // Because the component is mounted while this happens, the navigation guard has access to `this` component instance.</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  },</span></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">  beforeRouteLeave</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // called when the route that renders this component is about to be navigated away from.</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // As with `beforeRouteUpdate`, it has access to `this` component instance.</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  },</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">}</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&lt;/</span><span style="--shiki-dark:#E06C75;--shiki-light:#22863A;">script</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">&gt;</span></span></code></pre></div><p>The <code>beforeRouteEnter</code> guard does <strong>NOT</strong> have access to <code>this</code>, because the guard is called before the navigation is confirmed, thus the new entering component has not even been created yet.</p><p>However, you can access the instance by passing a callback to <code>next</code>. The callback will be called when the navigation is confirmed, and the component instance will be passed to the callback as the argument:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeRouteEnter</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">next</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">  next</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#E06C75;--shiki-dark-font-style:italic;--shiki-light:#E36209;--shiki-light-font-style:inherit;">vm</span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;"> =&gt;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">    // access to component public instance via `vm`</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">  })</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">}</span></span></code></pre></div><p>Note that <code>beforeRouteEnter</code> is the only guard that supports passing a callback to <code>next</code>. For <code>beforeRouteUpdate</code> and <code>beforeRouteLeave</code>, <code>this</code> is already available, so passing a callback is unnecessary and therefore <em>not supported</em>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeRouteUpdate</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#6A737D;--shiki-light-font-style:inherit;">  // just use `this`</span></span>
<span class="line"><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;">  this</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;"> to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;">params</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">name</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">}</span></span></code></pre></div><p>The <strong>leave guard</strong> is usually used to prevent the user from accidentally leaving the route with unsaved edits. The navigation can be canceled by returning <code>false</code>.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes one-dark-pro github-light vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">beforeRouteLeave</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">to</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">, </span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">from</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) {</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  const</span><span style="--shiki-dark:#E5C07B;--shiki-light:#005CC5;"> answer</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;"> =</span><span style="--shiki-dark:#E5C07B;--shiki-light:#24292E;"> window</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">.</span><span style="--shiki-dark:#61AFEF;--shiki-light:#6F42C1;">confirm</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">(</span><span style="--shiki-dark:#98C379;--shiki-light:#032F62;">&#39;Do you really want to leave? you have unsaved changes!&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">)</span></span>
<span class="line"><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">  if</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;"> (</span><span style="--shiki-dark:#56B6C2;--shiki-light:#D73A49;">!</span><span style="--shiki-dark:#E06C75;--shiki-light:#24292E;">answer</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">) </span><span style="--shiki-dark:#C678DD;--shiki-light:#D73A49;">return</span><span style="--shiki-dark:#D19A66;--shiki-light:#005CC5;"> false</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#24292E;">}</span></span></code></pre></div><h3 id="Using-the-Composition-API" tabindex="-1">Using the Composition API <a class="header-anchor" href="#Using-the-Composition-API" aria-label="Permalink to &quot;Using the Composition API&quot;">​</a></h3><p>If you are writing your component using the Composition API, you can add update and leave guards through <code>onBeforeRouteUpdate</code> and <code>onBeforeRouteLeave</code> respectively. Please refer to the <a href="./composition-api.html#navigation-guards">Composition API section</a> for more details.</p><h2 id="The-Full-Navigation-Resolution-Flow" tabindex="-1">The Full Navigation Resolution Flow <a class="header-anchor" href="#The-Full-Navigation-Resolution-Flow" aria-label="Permalink to &quot;The Full Navigation Resolution Flow&quot;">​</a></h2><ol><li>Navigation triggered.</li><li>Call <code>beforeRouteLeave</code> guards in deactivated components.</li><li>Call global <code>beforeEach</code> guards.</li><li>Call <code>beforeRouteUpdate</code> guards in reused components.</li><li>Call <code>beforeEnter</code> in route configs.</li><li>Resolve async route components.</li><li>Call <code>beforeRouteEnter</code> in activated components.</li><li>Call global <code>beforeResolve</code> guards.</li><li>Navigation is confirmed.</li><li>Call global <code>afterEach</code> hooks.</li><li>DOM updates triggered.</li><li>Call callbacks passed to <code>next</code> in <code>beforeRouteEnter</code> guards with instantiated instances.</li></ol></div></div></main><footer class="VPDocFooter" data-v-3be6e9fc data-v-45508a6d><!--[--><!--]--><div class="edit-info" data-v-45508a6d><div class="edit-link" data-v-45508a6d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/vuejs/router/edit/main/packages/docs/guide/advanced/navigation-guards.md" target="_blank" rel="noreferrer" data-v-45508a6d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-45508a6d></span> 对本页提出修改建议<!--]--></a></div><!----></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-ca399dd3 data-v-d0fa5f24><div class="container" data-v-d0fa5f24><p class="message" data-v-d0fa5f24>Released under the MIT License.</p><p class="copyright" data-v-d0fa5f24>Copyright © 2014-present Evan You, Eduardo San Martin Morote</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api_enumerations_errortypes.md\":\"MMTFoF52\",\"api_enumerations_navigationfailuretype.md\":\"BrwCU8wL\",\"api_functions_creatememoryhistory.md\":\"CHAnLQZ2\",\"api_functions_createrouter.md\":\"DQ2rlUVq\",\"api_functions_createroutermatcher.md\":\"DJyXZtht\",\"api_functions_createwebhashhistory.md\":\"BOSoHXIm\",\"api_functions_createwebhistory.md\":\"DgXCOSt7\",\"api_functions_isnavigationfailure.md\":\"BOmUeAIx\",\"api_functions_loadroutelocation.md\":\"CC3xrYkm\",\"api_functions_onbeforerouteleave.md\":\"BJ9N-BNG\",\"api_functions_onbeforerouteupdate.md\":\"D15ZzQJY\",\"api_functions_parsequery.md\":\"iDcXzoXC\",\"api_functions_stringifyquery.md\":\"BdMpWl8n\",\"api_functions_uselink.md\":\"TkpV8ONx\",\"api_functions_useroute.md\":\"BUQPrhaJ\",\"api_functions_userouter.md\":\"BYouBxf6\",\"api_index.md\":\"5sWoW2tL\",\"api_interfaces_historystate.md\":\"Rr39TmFh\",\"api_interfaces_locationasrelativeraw.md\":\"ByTjsZAp\",\"api_interfaces_matcherlocation.md\":\"BQ3NpTDg\",\"api_interfaces_matcherlocationaspath.md\":\"Rp6mJHiZ\",\"api_interfaces_navigationfailure.md\":\"DS-dMKOf\",\"api_interfaces_navigationguard.md\":\"Dqrp-pvP\",\"api_interfaces_navigationguardnext.md\":\"B3F34SXt\",\"api_interfaces_navigationguardwiththis.md\":\"cJ3ZPXuP\",\"api_interfaces_navigationhookafter.md\":\"BK0xfQ-f\",\"api_interfaces_navigationredirecterror.md\":\"BCX8POOq\",\"api_interfaces_pathparseroptions.md\":\"DJ1NJSIS\",\"api_interfaces_routelocationaspathgeneric.md\":\"DF8LlmFp\",\"api_interfaces_routelocationaspathtyped.md\":\"Da88wDh1\",\"api_interfaces_routelocationasrelativegeneric.md\":\"CAyHr2ue\",\"api_interfaces_routelocationasrelativetyped.md\":\"B8pmYThn\",\"api_interfaces_routelocationbase.md\":\"DPP4K9jd\",\"api_interfaces_routelocationgeneric.md\":\"DVUcWJJU\",\"api_interfaces_routelocationmatched.md\":\"Dnia3jjH\",\"api_interfaces_routelocationnamedraw.md\":\"CNvE7jx1\",\"api_interfaces_routelocationnormalizedgeneric.md\":\"C4wbfqkM\",\"api_interfaces_routelocationnormalizedloadedgeneric.md\":\"BF1CQ0_T\",\"api_interfaces_routelocationnormalizedloadedtyped.md\":\"CJXRn2lJ\",\"api_interfaces_routelocationnormalizedtyped.md\":\"r30SJv4Y\",\"api_interfaces_routelocationoptions.md\":\"D50eKHes\",\"api_interfaces_routelocationpathraw.md\":\"NrYWGUzd\",\"api_interfaces_routelocationresolvedgeneric.md\":\"SMgciziX\",\"api_interfaces_routelocationresolvedtyped.md\":\"gLpfRNId\",\"api_interfaces_routelocationtyped.md\":\"D3-zW-sP\",\"api_interfaces_routemeta.md\":\"ECGqMeUi\",\"api_interfaces_routequeryandhash.md\":\"Cn5iHorf\",\"api_interfaces_router.md\":\"Cdlr-StC\",\"api_interfaces_routerecordbase.md\":\"Br7cjXqp\",\"api_interfaces_routerecordinfo.md\":\"BTUNNYWg\",\"api_interfaces_routerecordmultipleviews.md\":\"CAZM_bng\",\"api_interfaces_routerecordmultipleviewswithchildren.md\":\"BFuWfbmk\",\"api_interfaces_routerecordnormalized.md\":\"Dhfzmo1x\",\"api_interfaces_routerecordredirect.md\":\"DvNie_K_\",\"api_interfaces_routerecordsingleview.md\":\"B66T2aj_\",\"api_interfaces_routerecordsingleviewwithchildren.md\":\"MZX86ue6\",\"api_interfaces_routerhistory.md\":\"C4_hRIez\",\"api_interfaces_routerlinki.md\":\"DrPV_rQf\",\"api_interfaces_routerlinkprops.md\":\"B7p5w3oW\",\"api_interfaces_routermatcher.md\":\"-1b3PsAj\",\"api_interfaces_routeroptions.md\":\"bQHaLE7R\",\"api_interfaces_routerscrollbehavior.md\":\"DNVBWo_D\",\"api_interfaces_routerviewprops.md\":\"BvUe3VtJ\",\"api_interfaces_typesconfig.md\":\"ClpTtbe2\",\"api_interfaces_uselinkoptions.md\":\"Ct-6Vrbz\",\"api_interfaces_uselinkreturn.md\":\"83Z_79GT\",\"api_type-aliases_awaitable.md\":\"Ds6_-1vA\",\"api_type-aliases_locationquery.md\":\"CIvjCaPc\",\"api_type-aliases_locationqueryraw.md\":\"CsXR1HXr\",\"api_type-aliases_locationqueryvalue.md\":\"CgbVd83n\",\"api_type-aliases_locationqueryvalueraw.md\":\"CNAUf6bi\",\"api_type-aliases_navigationguardnextcallback.md\":\"B71S-91V\",\"api_type-aliases_navigationguardreturn.md\":\"DDT9EIEH\",\"api_type-aliases_paramvalue.md\":\"CKGb3zyy\",\"api_type-aliases_paramvalueoneormore.md\":\"D-m2lBhd\",\"api_type-aliases_paramvaluezeroormore.md\":\"BINCvvq_\",\"api_type-aliases_paramvaluezeroorone.md\":\"Hi5VX47Q\",\"api_type-aliases_pathparseroptions.md\":\"CFEG9qL3\",\"api_type-aliases_routecomponent.md\":\"BwTMvZlK\",\"api_type-aliases_routelocation.md\":\"BM0AXtbc\",\"api_type-aliases_routelocationaspath.md\":\"hGwnPhim\",\"api_type-aliases_routelocationaspathtypedlist.md\":\"CWLTMh5P\",\"api_type-aliases_routelocationasrelative.md\":\"ClcQEtuN\",\"api_type-aliases_routelocationasrelativetypedlist.md\":\"CKJ3zlJf\",\"api_type-aliases_routelocationasstring.md\":\"DR-YGBMe\",\"api_type-aliases_routelocationasstringtyped.md\":\"C72PyTtY\",\"api_type-aliases_routelocationasstringtypedlist.md\":\"CuAOf4wk\",\"api_type-aliases_routelocationnormalized.md\":\"3aDh-p2Z\",\"api_type-aliases_routelocationnormalizedloaded.md\":\"D6_rs1vQ\",\"api_type-aliases_routelocationnormalizedloadedtypedlist.md\":\"BFPlUWwy\",\"api_type-aliases_routelocationnormalizedtypedlist.md\":\"7dzFrXrs\",\"api_type-aliases_routelocationraw.md\":\"DiMQO88O\",\"api_type-aliases_routelocationresolved.md\":\"CXvdf3DZ\",\"api_type-aliases_routelocationresolvedtypedlist.md\":\"CHjoAloT\",\"api_type-aliases_routelocationtypedlist.md\":\"DsiwC1QH\",\"api_type-aliases_routemap.md\":\"ED0pSj0F\",\"api_type-aliases_routemapgeneric.md\":\"DCWyC_Tx\",\"api_type-aliases_routeparams.md\":\"BiYImpYd\",\"api_type-aliases_routeparamsgeneric.md\":\"uLXIM7wr\",\"api_type-aliases_routeparamsraw.md\":\"C5MJBevd\",\"api_type-aliases_routeparamsrawgeneric.md\":\"DHhJ07AY\",\"api_type-aliases_routeparamvalue.md\":\"4msC3kJL\",\"api_type-aliases_routeparamvalueraw.md\":\"B3KdHb0f\",\"api_type-aliases_routerecord.md\":\"DNzi6udX\",\"api_type-aliases_routerecordinfogeneric.md\":\"Bkd8xS6a\",\"api_type-aliases_routerecordname.md\":\"B--UlNNe\",\"api_type-aliases_routerecordnamegeneric.md\":\"CU4vRXs8\",\"api_type-aliases_routerecordprops.md\":\"CCJ-qDQw\",\"api_type-aliases_routerecordraw.md\":\"DZ5aBSl8\",\"api_type-aliases_routerecordredirectoption.md\":\"DI9yfySD\",\"api_variables_matchedroutekey.md\":\"U6rinbCM\",\"api_variables_routelocationkey.md\":\"rozmOwuG\",\"api_variables_routerkey.md\":\"AnnBbS8S\",\"api_variables_routerlink.md\":\"B3SVSwLH\",\"api_variables_routerview.md\":\"Egn9s4yO\",\"api_variables_routerviewlocationkey.md\":\"CwV-fxfr\",\"api_variables_start_location.md\":\"B0uEfoIK\",\"api_variables_viewdepthkey.md\":\"-fdD6L45\",\"guide_advanced_composition-api.md\":\"DAWUYrR4\",\"guide_advanced_data-fetching.md\":\"CFxOYrfN\",\"guide_advanced_dynamic-routing.md\":\"-JxeaSGn\",\"guide_advanced_extending-router-link.md\":\"C20r1G26\",\"guide_advanced_lazy-loading.md\":\"DSOcLaIH\",\"guide_advanced_meta.md\":\"BW2xntUW\",\"guide_advanced_navigation-failures.md\":\"DyslYUnn\",\"guide_advanced_navigation-guards.md\":\"BnTFMeok\",\"guide_advanced_router-view-slot.md\":\"fXjxG8m2\",\"guide_advanced_scroll-behavior.md\":\"DumA_eU_\",\"guide_advanced_transitions.md\":\"CCCRmEwt\",\"guide_advanced_typed-routes.md\":\"BxQIgwiA\",\"guide_essentials_active-links.md\":\"DRyYCERN\",\"guide_essentials_dynamic-matching.md\":\"DPX8rP2E\",\"guide_essentials_history-mode.md\":\"DfGahm2J\",\"guide_essentials_named-routes.md\":\"_ANUsylX\",\"guide_essentials_named-views.md\":\"DWWPRtBc\",\"guide_essentials_navigation.md\":\"BFFk9ocU\",\"guide_essentials_nested-routes.md\":\"B1WlIjcr\",\"guide_essentials_passing-props.md\":\"CZiTUQhe\",\"guide_essentials_redirect-and-alias.md\":\"CJWP_QaF\",\"guide_essentials_route-matching-syntax.md\":\"Bow4f6Kq\",\"guide_index.md\":\"BJq4UeU4\",\"guide_migration_index.md\":\"BVqZUfuE\",\"index.md\":\"CdvyPLsm\",\"installation.md\":\"DbOgquWU\",\"introduction.md\":\"DjOsAOMa\",\"zh_about-translation.md\":\"CiMeU4ZC\",\"zh_api_enums_navigationfailuretype.md\":\"CNuVUWkb\",\"zh_api_index.md\":\"CN6PQqeo\",\"zh_api_interfaces_historystate.md\":\"ByF_bZyy\",\"zh_api_interfaces_navigationfailure.md\":\"GG9JaZQu\",\"zh_api_interfaces_navigationguard.md\":\"BkN6j8Ee\",\"zh_api_interfaces_navigationguardnext.md\":\"D_e_Zf48\",\"zh_api_interfaces_navigationguardwiththis.md\":\"CKGmoLMQ\",\"zh_api_interfaces_navigationhookafter.md\":\"CM_ki1NS\",\"zh_api_interfaces_routelocation.md\":\"BqImlfse\",\"zh_api_interfaces_routelocationmatched.md\":\"BTAEIppy\",\"zh_api_interfaces_routelocationnormalized.md\":\"BKRqoI-K\",\"zh_api_interfaces_routelocationnormalizedloaded.md\":\"M44QegOO\",\"zh_api_interfaces_routelocationoptions.md\":\"D9vTe9WE\",\"zh_api_interfaces_routemeta.md\":\"CmZ3dzi8\",\"zh_api_interfaces_router.md\":\"CUpKpFlz\",\"zh_api_interfaces_routerecordbase.md\":\"Do5luhNk\",\"zh_api_interfaces_routerecordmultipleviews.md\":\"BYSgzWOH\",\"zh_api_interfaces_routerecordmultipleviewswithchildren.md\":\"D2E4kJlq\",\"zh_api_interfaces_routerecordnormalized.md\":\"BxIDB0dC\",\"zh_api_interfaces_routerecordredirect.md\":\"CfZcBRRO\",\"zh_api_interfaces_routerecordsingleview.md\":\"BHhEBw1G\",\"zh_api_interfaces_routerecordsingleviewwithchildren.md\":\"DPkR8RPR\",\"zh_api_interfaces_routerhistory.md\":\"B51qVTqk\",\"zh_api_interfaces_routerlinkprops.md\":\"DQeij7uH\",\"zh_api_interfaces_routeroptions.md\":\"CF-KAH6A\",\"zh_api_interfaces_routerscrollbehavior.md\":\"DP25ur3t\",\"zh_api_interfaces_routerviewprops.md\":\"B-7L8Qdw\",\"zh_guide_advanced_composition-api.md\":\"IWn6rxsi\",\"zh_guide_advanced_data-fetching.md\":\"C7RWUec9\",\"zh_guide_advanced_dynamic-routing.md\":\"BSo1PVh8\",\"zh_guide_advanced_extending-router-link.md\":\"Bet-mQXa\",\"zh_guide_advanced_lazy-loading.md\":\"z3bTx4xx\",\"zh_guide_advanced_meta.md\":\"BB1PMdvQ\",\"zh_guide_advanced_navigation-failures.md\":\"868S9-cs\",\"zh_guide_advanced_navigation-guards.md\":\"D17tY8Jz\",\"zh_guide_advanced_router-view-slot.md\":\"B2l8kRN7\",\"zh_guide_advanced_scroll-behavior.md\":\"BnVRbHCI\",\"zh_guide_advanced_transitions.md\":\"5_on6l_5\",\"zh_guide_advanced_typed-routes.md\":\"Cpd9SPHj\",\"zh_guide_essentials_active-links.md\":\"Yfaf-g7S\",\"zh_guide_essentials_dynamic-matching.md\":\"DxPzdeKT\",\"zh_guide_essentials_history-mode.md\":\"C9pvlapc\",\"zh_guide_essentials_named-routes.md\":\"CnJ_cnVP\",\"zh_guide_essentials_named-views.md\":\"_0LcXW-_\",\"zh_guide_essentials_navigation.md\":\"QvMge_h6\",\"zh_guide_essentials_nested-routes.md\":\"DdYGucx_\",\"zh_guide_essentials_passing-props.md\":\"2wmsDrGu\",\"zh_guide_essentials_redirect-and-alias.md\":\"CMYdqyWC\",\"zh_guide_essentials_route-matching-syntax.md\":\"BxtOaKIZ\",\"zh_guide_index.md\":\"DB1WG8xD\",\"zh_guide_migration_index.md\":\"BeZ_OOLX\",\"zh_index.md\":\"CuFPnWFR\",\"zh_installation.md\":\"teZzrfRw\",\"zh_introduction.md\":\"B1Nbp1sR\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Vue Router\",\"description\":\"A VitePress site\",\"base\":\"/vue-router/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"dark\",\"themeConfig\":{\"logo\":\"/logo.svg\",\"outline\":[2,3],\"socialLinks\":[{\"icon\":\"x\",\"link\":\"https://twitter.com/posva\"},{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/router\"},{\"icon\":\"discord\",\"link\":\"https://chat.vuejs.org\"}],\"footer\":{\"copyright\":\"Copyright © 2014-present Evan You, Eduardo San Martin Morote\",\"message\":\"Released under the MIT License.\"},\"editLink\":{\"pattern\":\"https://github.com/vuejs/router/edit/main/packages/docs/:path\",\"text\":\"Suggest changes\"},\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"BTNTW3I1XP\",\"apiKey\":\"771d10c8c5cc48f7922f15048b4d931c\",\"indexName\":\"next_router_vuejs\",\"locales\":{\"zh\":{\"placeholder\":\"搜索文档\",\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"searchBox\":{\"resetButtonTitle\":\"清除查询条件\",\"resetButtonAriaLabel\":\"清除查询条件\",\"cancelButtonText\":\"取消\",\"cancelButtonAriaLabel\":\"取消\"},\"startScreen\":{\"recentSearchesTitle\":\"搜索历史\",\"noRecentSearchesText\":\"没有搜索历史\",\"saveRecentSearchButtonTitle\":\"保存至搜索历史\",\"removeRecentSearchButtonTitle\":\"从搜索历史中移除\",\"favoriteSearchesTitle\":\"收藏\",\"removeFavoriteSearchButtonTitle\":\"从收藏中移除\"},\"errorScreen\":{\"titleText\":\"无法获取结果\",\"helpText\":\"你可能需要检查你的网络连接\"},\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\",\"searchByText\":\"搜索供应商\"},\"noResultsScreen\":{\"noResultsText\":\"无法找到相关结果\",\"suggestedQueryText\":\"你可以尝试查询\",\"reportMissingResultsText\":\"你认为该查询应该有结果？\",\"reportMissingResultsLinkText\":\"点击反馈\"}}}}}}},\"carbonAds\":{\"code\":\"CEBICK3I\",\"placement\":\"routervuejsorg\"}},\"locales\":{\"root\":{\"label\":\"简体中文\",\"lang\":\"zh-CN\",\"link\":\"/zh/\",\"description\":\"Vue.js 的官方路由\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://router.vuejs.org\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"Vue.js 的官方路由\"}],[\"meta\",{\"property\":\"twitter:url\",\"content\":\"https://router.vuejs.org\"}],[\"meta\",{\"property\":\"twitter:title\",\"content\":\"Vue Router\"}],[\"meta\",{\"property\":\"twitter:description\",\"content\":\"Vue.js 的官方路由\"}]],\"themeConfig\":{\"editLink\":{\"pattern\":\"https://github.com/vuejs/router/edit/main/packages/docs/:path\",\"text\":\"对本页提出修改建议\"},\"outlineTitle\":\"本页内容\",\"nav\":[{\"text\":\"教程\",\"link\":\"/zh/guide/\",\"activeMatch\":\"^/zh/guide/\"},{\"text\":\"API 参考\",\"link\":\"/zh/api/\",\"activeMatch\":\"^/zh/api/\"},{\"text\":\"v4.x\",\"items\":[{\"text\":\"v3.x\",\"link\":\"https://v3.router.vuejs.org/zh\"}]},{\"text\":\"相关链接\",\"items\":[{\"text\":\"Discussions\",\"link\":\"https://github.com/vuejs/router/discussions\"},{\"text\":\"更新日志\",\"link\":\"https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md\"},{\"text\":\"Vue.js 认证\",\"link\":\"https://certificates.dev/vuejs/?friend=VUEROUTER&utm_source=router_vuejs&utm_medium=link&utm_campaign=router_vuejs_links&utm_content=navbar\"}]}],\"sidebar\":{\"/zh/\":[{\"text\":\"设置\",\"items\":[{\"text\":\"介绍\",\"link\":\"/zh/introduction.html\"},{\"text\":\"安装\",\"link\":\"/zh/installation.html\"}]},{\"text\":\"基础\",\"items\":[{\"text\":\"入门\",\"link\":\"/zh/guide/\"},{\"text\":\"动态路由匹配\",\"link\":\"/zh/guide/essentials/dynamic-matching.html\"},{\"text\":\"路由的匹配语法\",\"link\":\"/zh/guide/essentials/route-matching-syntax.html\"},{\"text\":\"嵌套路由\",\"link\":\"/zh/guide/essentials/nested-routes.html\"},{\"text\":\"命名路由\",\"link\":\"/zh/guide/essentials/named-routes.html\"},{\"text\":\"编程式导航\",\"link\":\"/zh/guide/essentials/navigation.html\"},{\"text\":\"命名视图\",\"link\":\"/zh/guide/essentials/named-views.html\"},{\"text\":\"重定向和别名\",\"link\":\"/zh/guide/essentials/redirect-and-alias.html\"},{\"text\":\"路由组件传参\",\"link\":\"/zh/guide/essentials/passing-props.html\"},{\"text\":\"匹配当前路由的链接\",\"link\":\"/zh/guide/essentials/active-links.html\"},{\"text\":\"不同的历史记录模式\",\"link\":\"/zh/guide/essentials/history-mode.html\"}]},{\"text\":\"进阶\",\"items\":[{\"text\":\"导航守卫\",\"link\":\"/zh/guide/advanced/navigation-guards.html\"},{\"text\":\"路由元信息\",\"link\":\"/zh/guide/advanced/meta.html\"},{\"text\":\"数据获取\",\"link\":\"/zh/guide/advanced/data-fetching.html\"},{\"text\":\"组合式 API\",\"link\":\"/zh/guide/advanced/composition-api.html\"},{\"text\":\"RouterView 插槽\",\"link\":\"/zh/guide/advanced/router-view-slot.html\"},{\"text\":\"过渡动效\",\"link\":\"/zh/guide/advanced/transitions.html\"},{\"text\":\"滚动行为\",\"link\":\"/zh/guide/advanced/scroll-behavior.html\"},{\"text\":\"路由懒加载\",\"link\":\"/zh/guide/advanced/lazy-loading.html\"},{\"text\":\"类型化路由\",\"link\":\"/zh/guide/advanced/typed-routes.html\"},{\"text\":\"扩展 RouterLink\",\"link\":\"/zh/guide/advanced/extending-router-link.html\"},{\"text\":\"导航故障\",\"link\":\"/zh/guide/advanced/navigation-failures.html\"},{\"text\":\"动态路由\",\"link\":\"/zh/guide/advanced/dynamic-routing.html\"}]},{\"items\":[{\"text\":\"从 Vue2 迁移\",\"link\":\"/zh/guide/migration/index.html\"},{\"text\":\"关于中文翻译\",\"link\":\"/zh/about-translation.html\"}]}],\"/zh/api/\":[{\"text\":\"packages\",\"items\":[{\"text\":\"vue-router\",\"link\":\"/zh/api/\"}]}]}}},\"ko\":{\"label\":\"한국어\",\"lang\":\"ko-KR\",\"link\":\"https://router.vuejs.kr/\"},\"pt\":{\"label\":\"Português\",\"lang\":\"pt-PT\",\"link\":\"https://vue-router-docs-pt.netlify.app/\"},\"ru\":{\"label\":\"Русский\",\"lang\":\"ru-RU\",\"link\":\"https://vue-router-ru.netlify.app\"}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>