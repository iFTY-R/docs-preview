"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["7555"],{197:function(e,a,l){l.r(a),l.d(a,{default:()=>v});var t=l(5598),i=l(1821),r=l(6682),o=l(1533),u=l(5140),n=l(5522),d={class:"preview-cover van-ellipsis"};let v=(0,t.aZ)({__name:"index",setup(e){var a=(0,o.q)({"zh-CN":{status:"上传状态",failed:"上传失败",upload:"上传文件",preview:"文件预览",maxSize:"限制上传大小",disabled:"禁用文件上传",maxCount:"限制上传数量",uploading:"上传中...",imageName:"图片名称",beforeRead:"上传前置处理",overSizeTip:"文件大小不能超过 500kb",invalidType:"请上传 jpg 格式图片",customUpload:"自定义上传样式",previewSize:"自定义预览大小",previewCover:"自定义预览样式",deleteMessage:"删除前置处理",customPreviewImage:"自定义单个图片预览",reupload:"开启覆盖上传"},"en-US":{status:"Upload Status",failed:"Failed",upload:"Upload File",preview:"Preview File",maxSize:"Max Size",disabled:"Disable Uploader",maxCount:"Max Count",uploading:"Uploading...",imageName:"Image Name",beforeRead:"Before Read",overSizeTip:"File size cannot exceed 500kb",invalidType:"Please upload an image in jpg format",customUpload:"Custom Upload Area",previewSize:"Preview Size",previewCover:"Preview Cover",deleteMessage:"Before Delete",customPreviewImage:"Custom single preview image",reupload:"Enable Reupload"}}),l=(0,t.iH)([{url:(0,u.RQ)("leaf.jpeg")},{url:(0,u.RQ)("tree.jpeg")}]),v=(0,t.iH)([{url:(0,u.RQ)("sand.jpeg")}]),s=(0,t.iH)([]),c=(0,t.iH)([{url:(0,u.RQ)("sand.jpeg")}]),p=(0,t.iH)([{url:(0,u.RQ)("sand.jpeg"),deletable:!0,beforeDelete:()=>{(0,n.CF)(a("deleteMessage"))}},{url:(0,u.RQ)("tree.jpeg"),imageFit:"contain"}]),m=(0,t.iH)([{url:(0,u.RQ)("leaf.jpeg"),status:"uploading",message:a("uploading")},{url:(0,u.RQ)("tree.jpeg"),status:"failed",message:a("failed")}]),f=(0,t.iH)([{url:(0,u.RQ)("leaf.jpeg"),file:{name:a("imageName")}}]),g=(0,t.iH)([{url:(0,u.RQ)("leaf.jpeg")}]),w=e=>!!Array.isArray(e)||"image/jpeg"===e.type||((0,n.CF)(a("invalidType")),!1),h=(e,a)=>{console.log(e,a)},S=e=>{e.status="uploading",e.message=a("uploading"),setTimeout(()=>{e.status="failed",e.message=a("failed")},1e3)},b=e=>{Array.isArray(e)?e.forEach(S):S(e)},y=(e,l)=>{console.log(e,l),(0,n.CF)(a("overSizeTip"))},U=(0,t.iH)([{url:(0,u.RQ)("leaf.jpeg")}]);return(e,o)=>{var u=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(u,{title:(0,t.SU)(a)("basicUsage")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{"after-read":h})]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("preview")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=e=>l.value=e),multiple:"",accept:"*"},null,8,["modelValue"])]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("status")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=e=>m.value=e),"after-read":b},null,8,["modelValue"])]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("maxCount")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=e=>v.value=e),multiple:"","max-count":2},null,8,["modelValue"])]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("maxSize")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=e=>c.value=e),multiple:"","max-size":512e3,onOversize:y},null,8,["modelValue"])]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("customUpload")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),null,{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(r.ZP),{type:"primary",icon:"plus"},{default:(0,t.w5)(()=>[(0,t.Uk)((0,t.zw)((0,t.SU)(a)("upload")),1)]),_:1})]),_:1})]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("previewCover")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{modelValue:f.value,"onUpdate:modelValue":o[4]||(o[4]=e=>f.value=e)},{"preview-cover":(0,t.w5)(e=>{var{file:a}=e;return[(0,t._)("div",d,(0,t.zw)(a.name),1)]}),_:1},8,["modelValue"])]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("previewSize")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{modelValue:g.value,"onUpdate:modelValue":o[5]||(o[5]=e=>g.value=e),"preview-size":"60"},null,8,["modelValue"])]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("beforeRead")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{modelValue:s.value,"onUpdate:modelValue":o[6]||(o[6]=e=>s.value=e),"before-read":w},null,8,["modelValue"])]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("disabled")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{"after-read":h,disabled:""})]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("customPreviewImage")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{modelValue:p.value,"onUpdate:modelValue":o[7]||(o[7]=e=>p.value=e),multiple:"",accept:"*",deletable:!1},null,8,["modelValue"])]),_:1},8,["title"]),(0,t.Wm)(u,{title:(0,t.SU)(a)("reupload")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(i.ZP),{modelValue:U.value,"onUpdate:modelValue":o[8]||(o[8]=e=>U.value=e),reupload:"","max-count":"2"},null,8,["modelValue"])]),_:1},8,["title"])],64)}}})},6682:function(e,a,l){l.d(a,{ZP:()=>h,zx:()=>w});var t=l(8227),i=l(5598),r=l(6225),o=l(7936),u=l(4076),n=l(7393),d=l(4373),v=l(2638),s=l(3346),c=l(2744),[p,m]=(0,r.do)("button"),f=(0,o.l7)({},v.g2,{tag:(0,u.SQ)("button"),text:String,icon:String,type:(0,u.SQ)("default"),size:(0,u.SQ)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,u.SQ)("button"),loadingSize:u.Or,loadingText:String,loadingType:String,iconPosition:(0,u.SQ)("left")});let g=(0,i.aZ)({name:p,props:f,emits:["click"],setup(e,a){var{emit:l,slots:t}=a,r=(0,v.yj)(),o=()=>e.loading?t.loading?t.loading():(0,i.Wm)(c.gb,{size:e.loadingSize,type:e.loadingType,class:m("loading")},null):t.icon?(0,i.Wm)("div",{class:m("icon")},[t.icon()]):e.icon?(0,i.Wm)(s.JO,{name:e.icon,class:m("icon"),classPrefix:e.iconPrefix},null):void 0,u=a=>{e.loading?(0,n.PF)(a):e.disabled||(l("click",a),r())};return()=>{var{tag:a,type:l,size:r,block:n,round:v,plain:s,square:c,loading:p,disabled:f,hairline:g,nativeType:w,iconPosition:h}=e,S=[m([l,r,{plain:s,block:n,round:v,square:c,loading:p,disabled:f,hairline:g}]),{[d._K]:g}];return(0,i.Wm)(a,{type:w,class:S,style:(()=>{var{color:a,plain:l}=e;if(a){var t={color:l?a:"white"};return l||(t.background=a),a.includes("gradient")?t.border=0:t.borderColor=a,t}})(),disabled:f,onClick:u},{default:()=>[(0,i.Wm)("div",{class:m("content")},["left"===h&&o(),(()=>{var a;if(a=e.loading?e.loadingText:t.default?t.default():e.text)return(0,i.Wm)("span",{class:m("text")},[a])})(),"right"===h&&o()])]})}}});var w=(0,t.n)(g);let h=w},2638:function(e,a,l){l.d(a,{BC:()=>r,g2:()=>i,yj:()=>o});var t=l(5598),i={to:[String,Object],url:String,replace:Boolean};function r(e){var{to:a,url:l,replace:t,$router:i}=e;a&&i?i[t?"replace":"push"](a):l&&(t?location.replace(l):location.href=l)}function o(){var e=(0,t.FN)().proxy;return()=>r(e)}},2744:function(e,a,l){l.d(a,{ZP:()=>g,gb:()=>f});var t=l(8227),i=l(5598),r=l(6225),o=l(4076),u=l(7936),n=l(5540),[d,v]=(0,r.do)("loading"),s=Array(12).fill(null).map((e,a)=>(0,i.Wm)("i",{class:v("line",String(a+1))},null)),c=(0,i.Wm)("svg",{class:v("circular"),viewBox:"25 25 50 50"},[(0,i.Wm)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),p={size:o.Or,type:(0,o.SQ)("circular"),color:String,vertical:Boolean,textSize:o.Or,textColor:String};let m=(0,i.aZ)({name:d,props:p,setup(e,a){var{slots:l}=a,t=(0,i.Fl)(()=>(0,u.l7)({color:e.color},(0,n.Xn)(e.size)));return()=>{var a,{type:r,vertical:o}=e;return(0,i.Wm)("div",{class:v([r,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[(a="spinner"===e.type?s:c,(0,i.Wm)("span",{class:v("spinner",e.type),style:t.value},[l.icon?l.icon():a])),(()=>{if(l.default){var a;return(0,i.Wm)("span",{class:v("text"),style:{fontSize:(0,n.Nn)(e.textSize),color:null!=(a=e.textColor)?a:e.color}},[l.default()])}})()])}}});var f=(0,t.n)(m);let g=f},6906:function(e,a,l){l.d(a,{Z:()=>p,j:()=>c});var t=l(8227),i=l(5598),r=l(6225),o=l(6840),u=l(4480),n=l(9708),[d,v]=(0,r.do)("swipe-item");let s=(0,i.aZ)({name:d,setup(e,a){var l,{slots:t}=a,r=(0,i.qj)({offset:0,inited:!1,mounted:!1}),{parent:d,index:s}=(0,u.NB)(o.PG);if(d){var c=(0,i.Fl)(()=>{var e={},{vertical:a}=d.props;return d.size.value&&(e[a?"height":"width"]="".concat(d.size.value,"px")),r.offset&&(e.transform="translate".concat(a?"Y":"X","(").concat(r.offset,"px)")),e}),p=(0,i.Fl)(()=>{var{loop:e,lazyRender:a}=d.props;if(!a||l)return!0;if(!r.mounted)return!1;var t=d.activeIndicator.value,i=d.count.value-1;return l=s.value===t||s.value===(0===t&&e?i:t-1)||s.value===(t===i&&e?0:t+1)});return(0,i.bv)(()=>{(0,i.Y3)(()=>{r.mounted=!0})}),(0,n.F)({setOffset:e=>{r.offset=e}}),()=>{var e;return(0,i.Wm)("div",{class:v(),style:c.value},[p.value?null==(e=t.default)?void 0:e.call(t):null])}}}});var c=(0,t.n)(s);let p=c},3960:function(e,a,l){l.d(a,{ZP:()=>o,oF:()=>r});var t=l(8227),i=l(6840),r=(0,t.n)(i.ZP);let o=r},1821:function(e,a,l){l.d(a,{ZP:()=>P});var t=l(8227),i=l(5598),r=l(4076),o=l(7936),u=l(5540),[n,d,v]=(0,l(6225).do)("uploader");function s(e,a){return new Promise(l=>{if("file"===a)return void l();var t=new FileReader;t.onload=e=>{l(e.target.result)},"dataUrl"===a?t.readAsDataURL(e):"text"===a&&t.readAsText(e)})}function c(e,a){return(0,o.qo)(e).some(e=>!!e.file&&((0,o.mf)(a)?a(e.file):e.file.size>+a))}var p=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i;function m(e){if(e.isImage)return!0;if(e.file&&e.file.type)return 0===e.file.type.indexOf("image");if(e.url){let a;return a=e.url,p.test(a)}return"string"==typeof e.content&&0===e.content.indexOf("data:image")}var f=l(4480),g=l(9708),w=l(3346),h=l(2419),S=l(7612),b=l(5349),y=l(2744);let U=(0,i.aZ)({props:{name:r.Or,item:(0,r.ir)(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,a){var{emit:l,slots:t}=a,r=a=>{var{name:t,item:i,index:r,beforeDelete:o}=e;a.stopPropagation(),(0,S.I)(o,{args:[i,{name:t,index:r}],done:()=>l("delete")})},n=()=>l("preview"),s=()=>l("reupload"),c=()=>{if(t["preview-cover"]){var{index:a,item:l}=e;return(0,i.Wm)("div",{class:d("preview-cover")},[t["preview-cover"]((0,o.l7)({index:a},l))])}};return()=>(0,i.Wm)("div",{class:d("preview")},[(()=>{var{item:a,lazyLoad:l,imageFit:t,previewSize:r,reupload:o}=e;return m(a)?(0,i.Wm)(b.Ee,{fit:t,src:a.objectUrl||a.content||a.url,class:d("preview-image"),width:Array.isArray(r)?r[0]:r,height:Array.isArray(r)?r[1]:r,lazyLoad:l,onClick:o?s:n},{default:c}):(0,i.Wm)("div",{class:d("file"),style:(0,u.Xn)(e.previewSize)},[(0,i.Wm)(w.JO,{class:d("file-icon"),name:"description"},null),(0,i.Wm)("div",{class:[d("file-name"),"van-ellipsis"]},[a.file?a.file.name:a.url]),c()])})(),(()=>{var{status:a,message:l}=e.item;if("uploading"===a||"failed"===a){var t="failed"===a?(0,i.Wm)(w.JO,{name:"close",class:d("mask-icon")},null):(0,i.Wm)(y.gb,{class:d("loading")},null),r=(0,o.Xq)(l)&&""!==l;return(0,i.Wm)("div",{class:d("mask")},[t,r&&(0,i.Wm)("div",{class:d("mask-message")},[l])])}})(),(()=>{if(e.deletable&&"uploading"!==e.item.status){var a=t["preview-delete"];return(0,i.Wm)("div",{role:"button",class:d("preview-delete",{shadow:!a}),tabindex:0,"aria-label":v("delete"),onClick:r},[a?a():(0,i.Wm)(w.JO,{name:"cross",class:d("preview-delete-icon")},null)])}})()])}});var W={name:(0,r.SI)(""),accept:(0,r.SQ)("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:(0,r.SI)(1/0),imageFit:(0,r.SQ)("cover"),resultType:(0,r.SQ)("dataUrl"),uploadIcon:(0,r.SQ)("photograph"),uploadText:String,deletable:r.J5,reupload:Boolean,afterRead:Function,showUpload:r.J5,modelValue:(0,r.Ce)(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:r.J5,previewOptions:Object,previewFullImage:r.J5,maxSize:{type:[Number,String,Function],default:1/0}};let x=(0,i.aZ)({name:n,props:W,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,a){var l,{emit:t,slots:r}=a,n=(0,i.iH)(),v=[],p=(0,i.iH)(-1),S=(0,i.iH)(!1),b=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.modelValue.length;return{name:e.name,index:a}},y=()=>{n.value&&(n.value.value="")},W=a=>{if(y(),c(a,e.maxSize))if(!Array.isArray(a))return void t("oversize",a,b());else{var l,r,u,n,d=(l=a,r=e.maxSize,u=[],n=[],l.forEach(e=>{c(e,r)?n.push(e):u.push(e)}),{valid:u,invalid:n});if(a=d.valid,t("oversize",d.invalid,b()),!a.length)return}if(a=(0,i.qj)(a),p.value>-1){var v=[...e.modelValue];v.splice(p.value,1,a),t("update:modelValue",v),p.value=-1}else t("update:modelValue",[...e.modelValue,...(0,o.qo)(a)]);e.afterRead&&e.afterRead(a,b())},x=a=>{var{maxCount:l,modelValue:t,resultType:i}=e;if(Array.isArray(a)){var r=l-t.length;a.length>r&&(a=a.slice(0,r)),Promise.all(a.map(e=>s(e,i))).then(e=>{W(a.map((a,l)=>{var t={file:a,status:"",message:"",objectUrl:URL.createObjectURL(a)};return e[l]&&(t.content=e[l]),t}))})}else s(a,i).then(e=>{var l={file:a,status:"",message:"",objectUrl:URL.createObjectURL(a)};e&&(l.content=e),W(l)})},P=a=>{var{files:l}=a.target;if(!e.disabled&&l&&l.length){var t=1===l.length?l[0]:[].slice.call(l);if(e.beforeRead){var i=e.beforeRead(t,b());if(!i)return void y();if((0,o.tI)(i))return void i.then(e=>{e?x(e):x(t)}).catch(y)}x(t)}},z=()=>t("closePreview"),F=e=>{S.value=!0,p.value=e,(0,i.Y3)(()=>R())},V=()=>{S.value||(p.value=-1),S.value=!1},C=(a,u)=>{var n=["imageFit","deletable","reupload","previewSize","beforeDelete"],d=(0,o.l7)((0,o.ei)(e,n),(0,o.ei)(a,n,!0));return(0,i.Wm)(U,(0,i.dG)({item:a,index:u,onClick:()=>t(e.reupload?"clickReupload":"clickPreview",a,b(u)),onDelete:()=>{var l;(l=e.modelValue.slice(0)).splice(u,1),t("update:modelValue",l),t("delete",a,b(u))},onPreview:()=>(a=>{if(e.previewFullImage){var t=e.modelValue.filter(m),i=t.map(e=>(e.objectUrl&&!e.url&&"failed"!==e.status&&(e.url=e.objectUrl,v.push(e.url)),e.url)).filter(Boolean);l=(0,h.V)((0,o.l7)({images:i,startPosition:t.indexOf(a),onClose:z},e.previewOptions))}})(a),onReupload:()=>F(u)},(0,o.ei)(e,["name","lazyLoad"]),d),(0,o.ei)(r,["preview-cover","preview-delete"]))},j=e=>t("clickUpload",e),R=()=>{n.value&&!e.disabled&&n.value.click()};return(0,i.Jd)(()=>{v.forEach(e=>URL.revokeObjectURL(e))}),(0,g.F)({chooseFile:R,reuploadFile:F,closeImagePreview:()=>{l&&l.close()}}),(0,f.aM)(()=>e.modelValue),()=>{var a,l;return(0,i.Wm)("div",{class:d()},[(0,i.Wm)("div",{class:d("wrapper",{disabled:e.disabled})},[(()=>{if(e.previewImage)return e.modelValue.map(C)})(),(a=e.modelValue.length<+e.maxCount,l=e.readonly?null:(0,i.Wm)("input",{ref:n,type:"file",class:d("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&-1===p.value,disabled:e.disabled,onChange:P,onClick:V},null),r.default?(0,i.wy)((0,i.Wm)("div",{class:d("input-wrapper"),onClick:j},[r.default(),l]),[[i.F8,a]]):(0,i.wy)((0,i.Wm)("div",{class:d("upload",{readonly:e.readonly}),style:(0,u.Xn)(e.previewSize),onClick:j},[(0,i.Wm)(w.JO,{name:e.uploadIcon,class:d("upload-icon")},null),e.uploadText&&(0,i.Wm)("span",{class:d("upload-text")},[e.uploadText]),l]),[[i.F8,e.showUpload&&a]]))])])}}}),P=(0,t.n)(x)},6840:function(e,a,l){l.d(a,{PG:()=>f,ZP:()=>g});var t=l(5598),i=l(6225),r=l(4076),o=l(5540),u=l(7393),n=l(4480),d=l(1332),v=l(9708),s=l(3627),[c,p]=(0,i.do)("swipe"),m={loop:r.J5,width:r.Or,height:r.Or,vertical:Boolean,autoplay:(0,r.SI)(0),duration:(0,r.SI)(500),touchable:r.J5,lazyRender:Boolean,initialSwipe:(0,r.SI)(0),indicatorColor:String,showIndicators:r.J5,stopPropagation:r.J5},f=Symbol(c);let g=(0,t.aZ)({name:c,props:m,emits:["change","dragStart","dragEnd"],setup(e,a){var l,i,{emit:r,slots:c}=a,m=(0,t.iH)(),g=(0,t.iH)(),w=(0,t.qj)({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),h=!1,S=(0,d.o)(),{children:b,linkChildren:y}=(0,n.$E)(f),U=(0,t.Fl)(()=>b.length),W=(0,t.Fl)(()=>w[e.vertical?"height":"width"]),x=(0,t.Fl)(()=>e.vertical?S.deltaY.value:S.deltaX.value),P=(0,t.Fl)(()=>w.rect?(e.vertical?w.rect.height:w.rect.width)-W.value*U.value:0),z=(0,t.Fl)(()=>W.value?Math.ceil(Math.abs(P.value)/W.value):U.value),F=(0,t.Fl)(()=>U.value*W.value),V=(0,t.Fl)(()=>(w.active+U.value)%U.value),C=(0,t.Fl)(()=>{var a=e.vertical?"vertical":"horizontal";return S.direction.value===a}),j=(0,t.Fl)(()=>{var a={transitionDuration:"".concat(w.swiping?0:e.duration,"ms"),transform:"translate".concat(e.vertical?"Y":"X","(").concat(+w.offset.toFixed(2),"px)")};if(W.value){var l=e.vertical?"height":"width",t=e.vertical?"width":"height";a[l]="".concat(F.value,"px"),a[t]=e[t]?"".concat(e[t],"px"):""}return a}),R=function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=a*W.value;e.loop||(t=Math.min(t,-P.value));var i=l-t;return e.loop||(i=(0,o.uZ)(i,P.value,0)),i},k=a=>{var{pace:l=0,offset:t=0,emitChange:i}=a;if(!(U.value<=1)){var{active:u}=w,n=(a=>{var{active:l}=w;return a?e.loop?(0,o.uZ)(l+a,-1,U.value):(0,o.uZ)(l+a,0,z.value):l})(l),d=R(n,t);if(e.loop){if(b[0]&&d!==P.value){var v=d<P.value;b[0].setOffset(v?F.value:0)}if(b[U.value-1]&&0!==d){var s=d>0;b[U.value-1].setOffset(s?-F.value:0)}}w.active=n,w.offset=d,i&&n!==u&&r("change",V.value)}},Z=()=>{w.swiping=!0,w.active<=-1?k({pace:U.value}):w.active>=U.value&&k({pace:-U.value})},O=()=>{Z(),S.reset(),(0,n.d1)(()=>{w.swiping=!1,k({pace:1,emitChange:!0})})},B=()=>clearTimeout(l),T=()=>{B(),+e.autoplay>0&&U.value>1&&(l=setTimeout(()=>{O(),T()},+e.autoplay))},I=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+e.initialSwipe;if(m.value){var l=()=>{if(!(0,u.xj)(m)){var l,t,i={width:m.value.offsetWidth,height:m.value.offsetHeight};w.rect=i,w.width=+(null!=(l=e.width)?l:i.width),w.height=+(null!=(t=e.height)?t:i.height)}U.value&&-1===(a=Math.min(U.value-1,a))&&(a=U.value-1),w.active=a,w.swiping=!0,w.offset=R(a),b.forEach(e=>{e.setOffset(0)}),T()};(0,u.xj)(m)?(0,t.Y3)().then(l):l()}},Q=()=>I(w.active),A=a=>{e.touchable&&!(a.touches.length>1)&&(S.start(a),h=!1,i=Date.now(),B(),Z())},_=()=>{if(e.touchable&&w.swiping){var a=Date.now()-i;if((Math.abs(x.value/a)>.25||Math.abs(x.value)>W.value/2)&&C.value){var l=e.vertical?S.offsetY.value:S.offsetX.value;k({pace:e.loop?l>0?x.value>0?-1:1:0:-Math[x.value>0?"ceil":"floor"](x.value/W.value),emitChange:!0})}else x.value&&k({pace:0});h=!1,w.swiping=!1,r("dragEnd",{index:V.value}),T()}},H=(a,l)=>{var i=l===V.value,r=i?{backgroundColor:e.indicatorColor}:void 0;return(0,t.Wm)("i",{style:r,class:p("indicator",{active:i})},null)};return(0,v.F)({prev:()=>{Z(),S.reset(),(0,n.d1)(()=>{w.swiping=!1,k({pace:-1,emitChange:!0})})},next:O,state:w,resize:Q,swipeTo:function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Z(),S.reset(),(0,n.d1)(()=>{var t;t=e.loop&&a===U.value?0===w.active?0:a:a%U.value,l.immediate?(0,n.d1)(()=>{w.swiping=!1}):w.swiping=!1,k({pace:t-w.active,emitChange:!0})})}}),y({size:W,props:e,count:U,activeIndicator:V}),(0,t.YP)(()=>e.initialSwipe,e=>I(+e)),(0,t.YP)(U,()=>I(w.active)),(0,t.YP)(()=>e.autoplay,T),(0,t.YP)([u.bn,u.uK,()=>e.width,()=>e.height],Q),(0,t.YP)((0,n.d9)(),e=>{"visible"===e?T():B()}),(0,t.bv)(I),(0,t.dl)(()=>I(w.active)),(0,s.h)(()=>I(w.active)),(0,t.se)(B),(0,t.Jd)(B),(0,n.OR)("touchmove",a=>{e.touchable&&w.swiping&&(S.move(a),C.value&&!(!e.loop&&(0===w.active&&x.value>0||w.active===U.value-1&&x.value<0))&&((0,u.PF)(a,e.stopPropagation),k({offset:x.value}),h||(r("dragStart",{index:V.value}),h=!0)))},{target:g}),()=>{var a;return(0,t.Wm)("div",{ref:m,class:p()},[(0,t.Wm)("div",{ref:g,style:j.value,class:p("track",{vertical:e.vertical}),onTouchstartPassive:A,onTouchend:_,onTouchcancel:_},[null==(a=c.default)?void 0:a.call(c)]),c.indicator?c.indicator({active:V.value,total:U.value}):e.showIndicators&&U.value>1?(0,t.Wm)("div",{class:p("indicators",{vertical:e.vertical})},[Array(U.value).fill("").map(H)]):void 0])}}})}}]);