"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["1272"],{2222:function(e,a,l){l.r(a),l.d(a,{default:()=>F});var t=l(5598),o=l(8227),n=l(6225),r=l(4076),i=l(7936),s=l(9708),d=l(9639),u=l(6063),c=l(6481),v=l(6783),m=l(7373),h=l(5522),g=l(6682),f=l(8365),[p,y]=(0,n.do)("address-edit-detail"),b=(0,n.do)("address-edit")[2];let S=(0,t.aZ)({name:p,props:{show:Boolean,rows:r.Or,value:String,rules:Array,focused:Boolean,maxlength:r.Or,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","selectSearch"],setup(e,a){var{emit:l}=a,o=(0,t.iH)(),n=()=>e.focused&&e.searchResult&&e.showSearchResult,r=e=>l("blur",e),i=e=>l("focus",e),s=e=>l("input",e);return()=>{if(e.show)return(0,t.Wm)(t.HY,null,[(0,t.Wm)(v.gN,{autosize:!0,clearable:!0,ref:o,class:y(),rows:e.rows,type:"textarea",rules:e.rules,label:b("addressDetail"),border:!n(),maxlength:e.maxlength,modelValue:e.value,placeholder:b("addressDetail"),onBlur:r,onFocus:i,"onUpdate:modelValue":s},null),(()=>{if(n()){var{searchResult:a}=e;return a.map(e=>(0,t.Wm)(u.bL,{clickable:!0,key:(e.name||"")+(e.address||""),icon:"location-o",title:e.name,label:e.address,class:y("search-item"),border:!1,onClick:()=>{l("selectSearch",e),l("input","".concat(e.address||""," ").concat(e.name||"").trim())}},null))}})()])}}});var C=l(6914),[w,k,x]=(0,n.do)("address-edit"),B={name:"",tel:"",city:"",county:"",province:"",areaCode:"",isDefault:!1,addressDetail:""},V={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:r.J5,showDetail:r.J5,showDelete:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:r.Or,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:(0,r.SI)(1),detailMaxlength:(0,r.SI)(200),areaColumnsPlaceholder:(0,r.Ce)(),addressInfo:{type:Object,default:()=>(0,i.l7)({},B)},telValidator:{type:Function,default:i.tq}};let W=(0,t.aZ)({name:w,props:V,emits:["save","focus","change","delete","clickArea","changeArea","changeDetail","selectSearch","changeDefault"],setup(e,a){var{emit:l,slots:o}=a,n=(0,t.iH)(),r=(0,t.qj)({}),p=(0,t.iH)(!1),y=(0,t.iH)(!1),b=(0,t.Fl)(()=>(0,i.Kn)(e.areaList)&&Object.keys(e.areaList).length),w=(0,t.Fl)(()=>{var{province:e,city:a,county:l,areaCode:t}=r;if(t){var o=[e,a,l];return e&&e===a&&o.splice(1,1),o.filter(Boolean).join("/")}return""}),V=(0,t.Fl)(()=>{var a;return(null==(a=e.searchResult)?void 0:a.length)&&y.value}),W=e=>{y.value="addressDetail"===e,l("focus",e)},P=(e,a)=>{l("change",{key:e,value:a})},O=(0,t.Fl)(()=>{var{validator:a,telValidator:l}=e,t=(e,l)=>({validator:t=>{if(a){var o=a(e,t);if(o)return o}return!!t||l}});return{name:[t("name",x("nameEmpty"))],tel:[t("tel",x("telInvalid")),{validator:l,message:x("telInvalid")}],areaCode:[t("areaCode",x("areaEmpty"))],addressDetail:[t("addressDetail",x("addressEmpty"))]}}),D=()=>l("save",r),F=e=>{r.addressDetail=e,l("changeDetail",e)},A=e=>{r.province=e[0].text,r.city=e[1].text,r.county=e[2].text},N=e=>{var{selectedValues:a,selectedOptions:t}=e;a.some(e=>e===C.h5)?(0,h.CF)(x("areaEmpty")):(p.value=!1,A(t),l("changeArea",t))},T=()=>l("delete",r),z=()=>{setTimeout(()=>{y.value=!1})};return(0,s.F)({setAreaCode:e=>{r.areaCode=e||""},setAddressDetail:e=>{r.addressDetail=e}}),(0,t.YP)(()=>e.addressInfo,e=>{(0,i.l7)(r,B,e),(0,t.Y3)(()=>{var e,a=null==(e=n.value)?void 0:e.getSelectedOptions();a&&a.every(e=>e&&e.value!==C.h5)&&A(a)})},{deep:!0,immediate:!0}),()=>{var{disableArea:a}=e;return(0,t.Wm)(c.l0,{class:k(),onSubmit:D},{default:()=>{var i;return[(0,t.Wm)("div",{class:k("fields")},[(0,t.Wm)(v.gN,{modelValue:r.name,"onUpdate:modelValue":[e=>r.name=e,e=>P("name",e)],clearable:!0,label:x("name"),rules:O.value.name,placeholder:x("name"),onFocus:()=>W("name")},null),(0,t.Wm)(v.gN,{modelValue:r.tel,"onUpdate:modelValue":[e=>r.tel=e,e=>P("tel",e)],clearable:!0,type:"tel",label:x("tel"),rules:O.value.tel,maxlength:e.telMaxlength,placeholder:x("tel"),onFocus:()=>W("tel")},null),(0,t.wy)((0,t.Wm)(v.gN,{readonly:!0,label:x("area"),"is-link":!a,modelValue:w.value,rules:e.showArea?O.value.areaCode:void 0,placeholder:e.areaPlaceholder||x("area"),onFocus:()=>W("areaCode"),onClick:()=>{l("clickArea"),p.value=!a}},null),[[t.F8,e.showArea]]),(0,t.Wm)(S,{show:e.showDetail,rows:e.detailRows,rules:O.value.addressDetail,value:r.addressDetail,focused:y.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:z,onFocus:()=>W("addressDetail"),onInput:F,onSelectSearch:e=>l("selectSearch",e)},null),null==(i=o.default)?void 0:i.call(o)]),(()=>{if(e.showSetDefault)return(0,t.wy)((0,t.Wm)(u.bL,{center:!0,border:!1,title:x("defaultAddress"),class:k("default")},{"right-icon":()=>(0,t.Wm)(f.rs,{modelValue:r.isDefault,"onUpdate:modelValue":e=>r.isDefault=e,onChange:e=>l("changeDefault",e)},null)}),[[t.F8,!V.value]])})(),(0,t.wy)((0,t.Wm)("div",{class:k("buttons")},[(0,t.Wm)(g.zx,{block:!0,round:!0,type:"primary",text:e.saveButtonText||x("save"),class:k("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&(0,t.Wm)(g.zx,{block:!0,round:!0,class:k("button"),loading:e.isDeleting,text:e.deleteButtonText||x("delete"),onClick:T},null)]),[[t.F8,!V.value]]),(0,t.Wm)(m.GI,{show:p.value,"onUpdate:show":e=>p.value=e,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[(0,t.Wm)(d.uN,{modelValue:r.areaCode,"onUpdate:modelValue":e=>r.areaCode=e,ref:n,loading:!b.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:N,onCancel:()=>{p.value=!1}},null)]})]}})}}});var P=(0,o.n)(W),O=l(1227),D=l(1533);let F=(0,t.aZ)({__name:"index",setup(e){var a=(0,D.q)({"zh-CN":{areaColumnsPlaceholder:["请选择","请选择","请选择"],searchResult:[{name:"黄龙万科中心",address:"杭州市西湖区"},{name:"黄龙万科中心G座"},{name:"黄龙万科中心H座",address:"杭州市西湖区"}]},"en-US":{areaColumnsPlaceholder:["Choose","Choose","Choose"],searchResult:[{name:"Name1",address:"Address"},{name:"Name2"},{name:"Name3",address:"Address"}]}}),l=(0,t.iH)([]),o=()=>(0,h.CF)(a("save")),n=()=>(0,h.CF)(a("delete")),r=e=>{l.value=e?a("searchResult"):[]};return(e,i)=>{var s=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.j4)(s,{title:(0,t.SU)(a)("basicUsage")},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(P),{"area-list":(0,t.SU)(O.H),"show-delete":"","show-set-default":"","show-search-result":"","search-result":l.value,"area-columns-placeholder":(0,t.SU)(a)("areaColumnsPlaceholder"),onSave:o,onDelete:n,onChangeDetail:r},null,8,["area-list","search-result","area-columns-placeholder"])]),_:1},8,["title"])}}})},9639:function(e,a,l){l.d(a,{uN:()=>f,ZP:()=>p});var t=l(8227),o=l(5598),n=l(6225),r=l(7936),i=l(4076),s=l(8826),d=l(6914),u=l(9708),c=l(720),[v,m]=(0,n.do)("area"),h=(0,r.l7)({},(0,r.ei)(s.d4,d.NC),{modelValue:String,columnsNum:(0,i.SI)(3),columnsPlaceholder:(0,i.Ce)(),areaList:{type:Object,default:()=>({})}});let g=(0,o.aZ)({name:v,props:h,emits:["change","confirm","cancel","update:modelValue"],setup(e,a){var{emit:l,slots:t}=a,n=(0,o.iH)([]),i=(0,o.iH)(),s=(0,o.Fl)(()=>(0,d.If)(e)),v=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return l("change",...a)},h=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return l("cancel",...a)},g=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return l("confirm",...a)};return(0,o.YP)(n,a=>{var t=a.length?a[a.length-1]:"";t&&t!==e.modelValue&&l("update:modelValue",t)},{deep:!0}),(0,o.YP)(()=>e.modelValue,a=>{a?a!==(n.value.length?n.value[n.value.length-1]:"")&&(n.value=["".concat(a.slice(0,2),"0000"),"".concat(a.slice(0,4),"00"),a].slice(0,+e.columnsNum)):n.value=[]},{immediate:!0}),(0,u.F)({confirm:()=>{var e;return null==(e=i.value)?void 0:e.confirm()},getSelectedOptions:()=>{var e;return(null==(e=i.value)?void 0:e.getSelectedOptions())||[]}}),()=>(0,o.Wm)(c.cW,(0,o.dG)({ref:i,modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,class:m(),columns:s.value,onChange:v,onCancel:h,onConfirm:g},(0,r.ei)(e,d.NC)),(0,r.ei)(t,d.eW))}});var f=(0,t.n)(g);let p=f},6914:function(e,a,l){l.d(a,{If:()=>i,NC:()=>n,eW:()=>o,h5:()=>t});var t="000000",o=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],n=["title","loading","readonly","optionHeight","swipeDuration","visibleOptionNum","cancelButtonText","confirmButtonText"],r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return{text:e,value:a,children:l}};function i(e){var{areaList:a,columnsNum:l,columnsPlaceholder:o}=e,{city_list:n={},county_list:i={},province_list:s={}}=a,d=+l>1,u=+l>2,c=new Map;Object.keys(s).forEach(e=>{c.set(e.slice(0,2),r(s[e],e,(()=>{if(d)return o.length>1?[r(o[1],t,u?[]:void 0)]:[]})()))});var v=new Map;d&&Object.keys(n).forEach(e=>{var a=r(n[e],e,(()=>{if(u)return o.length>2?[r(o[2])]:[]})());v.set(e.slice(0,4),a);var l=c.get(e.slice(0,2));l&&l.children.push(a)}),u&&Object.keys(i).forEach(e=>{var a=v.get(e.slice(0,4));a&&a.children.push(r(i[e],e))});var m=Array.from(c.values());if(o.length){var h=u?[r(o[2])]:void 0,g=d?[r(o[1],t,h)]:void 0;m.unshift(r(o[0],t,g))}return m}},6682:function(e,a,l){l.d(a,{ZP:()=>y,zx:()=>p});var t=l(8227),o=l(5598),n=l(6225),r=l(7936),i=l(4076),s=l(7393),d=l(4373),u=l(2638),c=l(3346),v=l(2744),[m,h]=(0,n.do)("button"),g=(0,r.l7)({},u.g2,{tag:(0,i.SQ)("button"),text:String,icon:String,type:(0,i.SQ)("default"),size:(0,i.SQ)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,i.SQ)("button"),loadingSize:i.Or,loadingText:String,loadingType:String,iconPosition:(0,i.SQ)("left")});let f=(0,o.aZ)({name:m,props:g,emits:["click"],setup(e,a){var{emit:l,slots:t}=a,n=(0,u.yj)(),r=()=>e.loading?t.loading?t.loading():(0,o.Wm)(v.gb,{size:e.loadingSize,type:e.loadingType,class:h("loading")},null):t.icon?(0,o.Wm)("div",{class:h("icon")},[t.icon()]):e.icon?(0,o.Wm)(c.JO,{name:e.icon,class:h("icon"),classPrefix:e.iconPrefix},null):void 0,i=a=>{e.loading?(0,s.PF)(a):e.disabled||(l("click",a),n())};return()=>{var{tag:a,type:l,size:n,block:s,round:u,plain:c,square:v,loading:m,disabled:g,hairline:f,nativeType:p,iconPosition:y}=e,b=[h([l,n,{plain:c,block:s,round:u,square:v,loading:m,disabled:g,hairline:f}]),{[d._K]:f}];return(0,o.Wm)(a,{type:p,class:b,style:(()=>{var{color:a,plain:l}=e;if(a){var t={color:l?a:"white"};return l||(t.background=a),a.includes("gradient")?t.border=0:t.borderColor=a,t}})(),disabled:g,onClick:i},{default:()=>[(0,o.Wm)("div",{class:h("content")},["left"===y&&r(),(()=>{var a;if(a=e.loading?e.loadingText:t.default?t.default():e.text)return(0,o.Wm)("span",{class:h("text")},[a])})(),"right"===y&&r()])]})}}});var p=(0,t.n)(f);let y=p},6481:function(e,a,l){l.d(a,{l0:()=>g,ZP:()=>f});var t=l(8227),o=l(5598),n=l(6225),r=l(4076),i=l(4373),s=l(7393),d=l(4480),u=l(9708),[c,v]=(0,n.do)("form"),m={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:r.Or,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:r.J5,showErrorMessage:r.J5,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};let h=(0,o.aZ)({name:c,props:m,emits:["submit","failed"],setup(e,a){var{emit:l,slots:t}=a,{children:n,linkChildren:r}=(0,d.$E)(i.WN),c=e=>e?n.filter(a=>e.includes(a.name)):n,m=a=>{if("string"==typeof a){var l;return(l=n.find(e=>e.name===a))?new Promise((e,a)=>{l.validate().then(l=>{l?a(l):e()})}):Promise.reject()}return e.validateFirst?new Promise((e,l)=>{var t=[];c(a).reduce((e,a)=>e.then(()=>{if(!t.length)return a.validate().then(e=>{e&&t.push(e)})}),Promise.resolve()).then(()=>{t.length?l(t):e()})}):new Promise((e,l)=>{Promise.all(c(a).map(e=>e.validate())).then(a=>{(a=a.filter(Boolean)).length?l(a):e()})})},h=(e,a)=>{n.some(l=>l.name===e&&(l.$el.scrollIntoView(a),!0))},g=()=>n.reduce((e,a)=>(void 0!==a.name&&(e[a.name]=a.formValue.value),e),{}),f=()=>{var a=g();m().then(()=>l("submit",a)).catch(t=>{l("failed",{values:a,errors:t});var{scrollToError:o,scrollToErrorPosition:n}=e;o&&t[0].name&&h(t[0].name,n?{block:n}:void 0)})},p=e=>{(0,s.PF)(e),f()};return r({props:e}),(0,u.F)({submit:f,validate:m,getValues:g,scrollToField:h,resetValidation:e=>{"string"==typeof e&&(e=[e]),c(e).forEach(e=>{e.resetValidation()})},getValidationStatus:()=>n.reduce((e,a)=>(e[a.name]=a.getValidationStatus(),e),{})}),()=>{var e;return(0,o.Wm)("form",{class:v(),onSubmit:p},[null==(e=t.default)?void 0:e.call(t)])}}});var g=(0,t.n)(h);let f=g},8365:function(e,a,l){l.d(a,{rs:()=>h,ZP:()=>g});var t=l(8227),o=l(5598),n=l(6225),r=l(4076),i=l(5540),s=l(4480),d=l(2744),[u,c]=(0,n.do)("switch"),v={size:r.Or,loading:Boolean,disabled:Boolean,modelValue:r.Vg,activeColor:String,inactiveColor:String,activeValue:{type:r.Vg,default:!0},inactiveValue:{type:r.Vg,default:!1}};let m=(0,o.aZ)({name:u,props:v,emits:["change","update:modelValue"],setup(e,a){var{emit:l,slots:t}=a,n=()=>{if(!e.disabled&&!e.loading){var a=e.modelValue===e.activeValue?e.inactiveValue:e.activeValue;l("update:modelValue",a),l("change",a)}};return(0,s.aM)(()=>e.modelValue),()=>{var a,{size:l,loading:r,disabled:s,activeColor:u,inactiveColor:v}=e,m=e.modelValue===e.activeValue,h={fontSize:(0,i.Nn)(l),backgroundColor:m?u:v};return(0,o.Wm)("div",{role:"switch",class:c({on:m,loading:r,disabled:s}),style:h,tabindex:s?void 0:0,"aria-checked":m,onClick:n},[(0,o.Wm)("div",{class:c("node")},[(()=>{if(e.loading){var a=e.modelValue===e.activeValue?e.activeColor:e.inactiveColor;return(0,o.Wm)(d.gb,{class:c("loading"),color:a},null)}if(t.node)return t.node()})()]),null==(a=t.background)?void 0:a.call(t)])}}});var h=(0,t.n)(m);let g=h},9101:function(e,a,l){l.d(a,{H:()=>i,o:()=>r});var t=l(5598),o=l(7936),n=l(9708);function r(){var e=(0,t.qj)({show:!1}),a=a=>{e.show=a},l=l=>{(0,o.l7)(e,l,{transitionAppear:!0}),a(!0)},r=()=>a(!1);return(0,n.F)({open:l,close:r,toggle:a}),{open:l,close:r,state:e,toggle:a}}function i(e){var a=(0,t.ri)(e),l=document.createElement("div");return document.body.appendChild(l),{instance:a.mount(l),unmount(){a.unmount(),document.body.removeChild(l)}}}},8208:function(e,a,l){l.d(a,{Z:()=>g});var t=l(5598),o=l(6225),n=l(4076),r=l(7936),i=0,s=l(3346),d=l(7373),u=l(2744),[c,v]=(0,o.do)("toast"),m=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],h={icon:String,show:Boolean,type:(0,n.SQ)("text"),overlay:Boolean,message:n.Or,iconSize:n.Or,duration:(0,n.qM)(2e3),position:(0,n.SQ)("middle"),teleport:[String,Object],wordBreak:String,className:n.Vg,iconPrefix:String,transition:(0,n.SQ)("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:n.Vg,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:n.Or};let g=(0,t.aZ)({name:c,props:h,emits:["update:show"],setup(e,a){var l,{emit:o,slots:n}=a,c=!1,h=()=>{var a=e.show&&e.forbidClick;c!==a&&((c=a)?(i||document.body.classList.add("van-toast--unclickable"),i++):i&&(--i||document.body.classList.remove("van-toast--unclickable")))},g=e=>o("update:show",e),f=()=>{e.closeOnClick&&g(!1)},p=()=>clearTimeout(l);return(0,t.YP)(()=>[e.show,e.forbidClick],h),(0,t.YP)(()=>[e.show,e.type,e.message,e.duration],()=>{p(),e.show&&e.duration>0&&(l=setTimeout(()=>{g(!1)},e.duration))}),(0,t.bv)(h),(0,t.SK)(h),()=>(0,t.Wm)(d.GI,(0,t.dG)({class:[v([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:f,onClosed:p,"onUpdate:show":g},(0,r.ei)(e,m)),{default:()=>[(()=>{var{icon:a,type:l,iconSize:o,iconPrefix:n,loadingType:r}=e;return a||"success"===l||"fail"===l?(0,t.Wm)(s.JO,{name:a||l,size:o,class:v("icon"),classPrefix:n},null):"loading"===l?(0,t.Wm)(u.gb,{class:v("loading"),size:o,type:r},null):void 0})(),(()=>{var{type:a,message:l}=e;return n.message?(0,t.Wm)("div",{class:v("text")},[n.message()]):(0,r.Xq)(l)&&""!==l?"html"===a?(0,t.Wm)("div",{key:0,class:v("text"),innerHTML:String(l)},null):(0,t.Wm)("div",{class:v("text")},[l]):void 0})()]})}})},5522:function(e,a,l){l.d(a,{CF:()=>c,LJ:()=>g,XA:()=>h,di:()=>m,yg:()=>f});var t=l(5598),o=l(7936),n=l(9101),r=l(8208),i=[],s=(0,o.l7)({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1}),d=new Map;function u(e){return(0,o.Kn)(e)?e:{message:e}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!o._f)return{};var a=function(){if(!i.length){var e=function(){var{instance:e,unmount:a}=(0,n.H)({setup(){var e=(0,t.iH)(""),{open:a,state:l,close:o,toggle:i}=(0,n.o)(),s=()=>{};return(0,t.YP)(e,e=>{l.message=e}),(0,t.FN)().render=()=>(0,t.Wm)(r.Z,(0,t.dG)(l,{onClosed:s,"onUpdate:show":i}),null),{open:a,close:o,message:e}}});return e}();i.push(e)}return i[i.length-1]}(),l=u(e);return a.open((0,o.l7)({},s,d.get(l.type||s.type),l)),a}var v=e=>a=>c((0,o.l7)({type:e},u(a))),m=v("loading"),h=v("success"),g=v("fail"),f=e=>{if(i.length)if(e)i.forEach(e=>{e.close()}),i=[];else if(0){var a;null==(a=i.shift())||a.close()}else i[0].close()}}}]);