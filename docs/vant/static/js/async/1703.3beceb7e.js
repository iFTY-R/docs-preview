"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["1703"],{134:function(e,o,l){l.r(o),l.d(o,{default:()=>C});var n=l(5598),a=l(8227),r=l(6225),i=l(4076),t=l(7936),s=l(7393),c=l(4480),u=l(9708),d=l(6682),[v,g,m]=(0,r.do)("signature"),f={tips:String,type:(0,i.SQ)("png"),penColor:(0,i.SQ)("#000"),lineWidth:(0,i.qM)(3),clearButtonText:String,backgroundColor:(0,i.SQ)(""),confirmButtonText:String};let p=(0,n.aZ)({name:v,props:f,emits:["submit","clear","start","end","signing"],setup(e,o){var l,a,r,{emit:i,slots:v}=o,f=(0,n.iH)(),p=(0,n.iH)(),h=(0,n.Fl)(()=>f.value?f.value.getContext("2d"):null),S=!t._f||!!(null==(l=(a=document.createElement("canvas")).getContext)?void 0:l.call(a,"2d")),y=0,b=0,C=()=>{if(!h.value)return!1;h.value.beginPath(),h.value.lineWidth=e.lineWidth,h.value.strokeStyle=e.penColor,r=(0,c.EL)(f),i("start")},W=e=>{if(!h.value)return!1;(0,s.PF)(e);var o=e.touches[0],l=o.clientX-((null==r?void 0:r.left)||0),n=o.clientY-((null==r?void 0:r.top)||0);h.value.lineCap="round",h.value.lineJoin="round",h.value.lineTo(l,n),h.value.stroke(),i("signing",e)},k=e=>{(0,s.PF)(e),i("end")},w=o=>{o&&e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,y,b))},x=()=>{var o,l,n,a=f.value;a&&i("submit",{image:((o=document.createElement("canvas")).width=a.width,o.height=a.height,e.backgroundColor&&w(o.getContext("2d")),a.toDataURL()===o.toDataURL())?"":(null==(l=(n={jpg:()=>a.toDataURL("image/jpeg",.8),jpeg:()=>a.toDataURL("image/jpeg",.8)})[e.type])?void 0:l.call(n))||a.toDataURL("image/".concat(e.type)),canvas:a})},P=()=>{h.value&&(h.value.clearRect(0,0,y,b),h.value.closePath(),w(h.value)),i("clear")},z=()=>{if(S&&f.value){var e,o,l,n=f.value,a=t._f?window.devicePixelRatio:1;y=n.width=((null==(e=p.value)?void 0:e.offsetWidth)||0)*a,b=n.height=((null==(o=p.value)?void 0:o.offsetHeight)||0)*a,null==(l=h.value)||l.scale(a,a),w(h.value)}},B=()=>{if(h.value){var e=h.value.getImageData(0,0,y,b);z(),h.value.putImageData(e,0,0)}};return(0,n.YP)(s.bn,B),(0,n.bv)(z),(0,u.F)({resize:B,clear:P,submit:x}),()=>(0,n.Wm)("div",{class:g()},[(0,n.Wm)("div",{class:g("content"),ref:p},[S?(0,n.Wm)("canvas",{ref:f,onTouchstartPassive:C,onTouchmove:W,onTouchend:k},null):v.tips?v.tips():(0,n.Wm)("p",null,[e.tips])]),(0,n.Wm)("div",{class:g("footer")},[(0,n.Wm)(d.zx,{size:"small",onClick:P},{default:()=>[e.clearButtonText||m("clear")]}),(0,n.Wm)(d.zx,{type:"primary",size:"small",onClick:x},{default:()=>[e.confirmButtonText||m("confirm")]})])])}});var h=(0,a.n)(p),S=l(5349),y=l(1533),b=l(5522);let C={__name:"index",setup(e){var o=(0,y.q)({"zh-CN":{penColor:"自定义颜色",lineWidth:"自定义线宽",backgroundColor:"自定义背景颜色"},"en-US":{penColor:"Pen Color",lineWidth:"Line Width",backgroundColor:"Background Color"}}),l=(0,n.iH)(""),a=e=>{l.value=e.image},r=()=>(0,b.CF)("clear");return(e,i)=>{var t=(0,n.up)("demo-block");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(t,{title:(0,n.SU)(o)("basicUsage")},{default:(0,n.w5)(()=>[(0,n.Wm)((0,n.SU)(h),{onSubmit:a,onClear:r})]),_:1},8,["title"]),l.value?((0,n.wg)(),(0,n.j4)((0,n.SU)(S.ZP),{key:0,src:l.value},null,8,["src"])):(0,n.kq)("",!0),(0,n.Wm)(t,{title:(0,n.SU)(o)("penColor")},{default:(0,n.w5)(()=>[(0,n.Wm)((0,n.SU)(h),{"pen-color":"#ff0000",onClear:r,onSubmit:a})]),_:1},8,["title"]),(0,n.Wm)(t,{title:(0,n.SU)(o)("lineWidth")},{default:(0,n.w5)(()=>[(0,n.Wm)((0,n.SU)(h),{"line-width":6,onClear:r,onSubmit:a})]),_:1},8,["title"]),(0,n.Wm)(t,{title:(0,n.SU)(o)("backgroundColor")},{default:(0,n.w5)(()=>[(0,n.Wm)((0,n.SU)(h),{"background-color":"#eee",onClear:r,onSubmit:a})]),_:1},8,["title"])],64)}}}},6682:function(e,o,l){l.d(o,{ZP:()=>S,zx:()=>h});var n=l(8227),a=l(5598),r=l(6225),i=l(7936),t=l(4076),s=l(7393),c=l(4373),u=l(2638),d=l(3346),v=l(2744),[g,m]=(0,r.do)("button"),f=(0,i.l7)({},u.g2,{tag:(0,t.SQ)("button"),text:String,icon:String,type:(0,t.SQ)("default"),size:(0,t.SQ)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,t.SQ)("button"),loadingSize:t.Or,loadingText:String,loadingType:String,iconPosition:(0,t.SQ)("left")});let p=(0,a.aZ)({name:g,props:f,emits:["click"],setup(e,o){var{emit:l,slots:n}=o,r=(0,u.yj)(),i=()=>e.loading?n.loading?n.loading():(0,a.Wm)(v.gb,{size:e.loadingSize,type:e.loadingType,class:m("loading")},null):n.icon?(0,a.Wm)("div",{class:m("icon")},[n.icon()]):e.icon?(0,a.Wm)(d.JO,{name:e.icon,class:m("icon"),classPrefix:e.iconPrefix},null):void 0,t=o=>{e.loading?(0,s.PF)(o):e.disabled||(l("click",o),r())};return()=>{var{tag:o,type:l,size:r,block:s,round:u,plain:d,square:v,loading:g,disabled:f,hairline:p,nativeType:h,iconPosition:S}=e,y=[m([l,r,{plain:d,block:s,round:u,square:v,loading:g,disabled:f,hairline:p}]),{[c._K]:p}];return(0,a.Wm)(o,{type:h,class:y,style:(()=>{var{color:o,plain:l}=e;if(o){var n={color:l?o:"white"};return l||(n.background=o),o.includes("gradient")?n.border=0:n.borderColor=o,n}})(),disabled:f,onClick:t},{default:()=>[(0,a.Wm)("div",{class:m("content")},["left"===S&&i(),(()=>{var o;if(o=e.loading?e.loadingText:n.default?n.default():e.text)return(0,a.Wm)("span",{class:m("text")},[o])})(),"right"===S&&i()])]})}}});var h=(0,n.n)(p);let S=h},2638:function(e,o,l){l.d(o,{BC:()=>r,g2:()=>a,yj:()=>i});var n=l(5598),a={to:[String,Object],url:String,replace:Boolean};function r(e){var{to:o,url:l,replace:n,$router:a}=e;o&&a?a[n?"replace":"push"](o):l&&(n?location.replace(l):location.href=l)}function i(){var e=(0,n.FN)().proxy;return()=>r(e)}},5349:function(e,o,l){l.d(o,{ZP:()=>f,Ee:()=>m});var n=l(8227),a=l(5598),r=l(6225),i=l(4076),t=l(5540),s=l(7936),c=l(3346),[u,d]=(0,r.do)("image"),v={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:i.Or,height:i.Or,radius:i.Or,lazyLoad:Boolean,iconSize:i.Or,showError:i.J5,errorIcon:(0,i.SQ)("photo-fail"),iconPrefix:String,showLoading:i.J5,loadingIcon:(0,i.SQ)("photo"),crossorigin:String,referrerpolicy:String,decoding:String};let g=(0,a.aZ)({name:u,props:v,emits:["load","error"],setup(e,o){var{emit:l,slots:n}=o,r=(0,a.iH)(!1),i=(0,a.iH)(!0),u=(0,a.iH)(),{$Lazyload:v}=(0,a.FN)().proxy,g=(0,a.Fl)(()=>{var o={width:(0,t.Nn)(e.width),height:(0,t.Nn)(e.height)};return(0,s.Xq)(e.radius)&&(o.overflow="hidden",o.borderRadius=(0,t.Nn)(e.radius)),o});(0,a.YP)(()=>e.src,()=>{r.value=!1,i.value=!0});var m=e=>{i.value&&(i.value=!1,l("load",e))},f=()=>{var e=new Event("load");Object.defineProperty(e,"target",{value:u.value,enumerable:!0}),m(e)},p=e=>{r.value=!0,i.value=!1,l("error",e)},h=(o,l,n)=>n?n():(0,a.Wm)(c.JO,{name:o,size:e.iconSize,class:l,classPrefix:e.iconPrefix},null),S=e=>{var{el:o}=e,l=()=>{o===u.value&&i.value&&f()};u.value?l():(0,a.Y3)(l)},y=e=>{var{el:o}=e;o!==u.value||r.value||p()};return v&&s._f&&(v.$on("loaded",S),v.$on("error",y),(0,a.Jd)(()=>{v.$off("loaded",S),v.$off("error",y)})),(0,a.bv)(()=>{(0,a.Y3)(()=>{var o;(null==(o=u.value)?void 0:o.complete)&&!e.lazyLoad&&f()})}),()=>{var o;return(0,a.Wm)("div",{class:d({round:e.round,block:e.block}),style:g.value},[(()=>{if(!r.value&&e.src){var o={alt:e.alt,class:d("img"),decoding:e.decoding,style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?(0,a.wy)((0,a.Wm)("img",(0,a.dG)({ref:u},o),null),[[(0,a.Q2)("lazy"),e.src]]):(0,a.Wm)("img",(0,a.dG)({ref:u,src:e.src,onLoad:m,onError:p},o),null)}})(),i.value&&e.showLoading?(0,a.Wm)("div",{class:d("loading")},[h(e.loadingIcon,d("loading-icon"),n.loading)]):r.value&&e.showError?(0,a.Wm)("div",{class:d("error")},[h(e.errorIcon,d("error-icon"),n.error)]):void 0,null==(o=n.default)?void 0:o.call(n)])}}});var m=(0,n.n)(g);let f=m},2744:function(e,o,l){l.d(o,{ZP:()=>p,gb:()=>f});var n=l(8227),a=l(5598),r=l(6225),i=l(4076),t=l(7936),s=l(5540),[c,u]=(0,r.do)("loading"),d=Array(12).fill(null).map((e,o)=>(0,a.Wm)("i",{class:u("line",String(o+1))},null)),v=(0,a.Wm)("svg",{class:u("circular"),viewBox:"25 25 50 50"},[(0,a.Wm)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),g={size:i.Or,type:(0,i.SQ)("circular"),color:String,vertical:Boolean,textSize:i.Or,textColor:String};let m=(0,a.aZ)({name:c,props:g,setup(e,o){var{slots:l}=o,n=(0,a.Fl)(()=>(0,t.l7)({color:e.color},(0,s.Xn)(e.size)));return()=>{var o,{type:r,vertical:i}=e;return(0,a.Wm)("div",{class:u([r,{vertical:i}]),"aria-live":"polite","aria-busy":!0},[(o="spinner"===e.type?d:v,(0,a.Wm)("span",{class:u("spinner",e.type),style:n.value},[l.icon?l.icon():o])),(()=>{if(l.default){var o;return(0,a.Wm)("span",{class:u("text"),style:{fontSize:(0,s.Nn)(e.textSize),color:null!=(o=e.textColor)?o:e.color}},[l.default()])}})()])}}});var f=(0,n.n)(m);let p=f},9101:function(e,o,l){l.d(o,{H:()=>t,o:()=>i});var n=l(5598),a=l(7936),r=l(9708);function i(){var e=(0,n.qj)({show:!1}),o=o=>{e.show=o},l=l=>{(0,a.l7)(e,l,{transitionAppear:!0}),o(!0)},i=()=>o(!1);return(0,r.F)({open:l,close:i,toggle:o}),{open:l,close:i,state:e,toggle:o}}function t(e){var o=(0,n.ri)(e),l=document.createElement("div");return document.body.appendChild(l),{instance:o.mount(l),unmount(){o.unmount(),document.body.removeChild(l)}}}},8208:function(e,o,l){l.d(o,{Z:()=>f});var n=l(5598),a=l(6225),r=l(4076),i=l(7936),t=0,s=l(3346),c=l(7373),u=l(2744),[d,v]=(0,a.do)("toast"),g=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],m={icon:String,show:Boolean,type:(0,r.SQ)("text"),overlay:Boolean,message:r.Or,iconSize:r.Or,duration:(0,r.qM)(2e3),position:(0,r.SQ)("middle"),teleport:[String,Object],wordBreak:String,className:r.Vg,iconPrefix:String,transition:(0,r.SQ)("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:r.Vg,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:r.Or};let f=(0,n.aZ)({name:d,props:m,emits:["update:show"],setup(e,o){var l,{emit:a,slots:r}=o,d=!1,m=()=>{var o=e.show&&e.forbidClick;d!==o&&((d=o)?(t||document.body.classList.add("van-toast--unclickable"),t++):t&&(--t||document.body.classList.remove("van-toast--unclickable")))},f=e=>a("update:show",e),p=()=>{e.closeOnClick&&f(!1)},h=()=>clearTimeout(l);return(0,n.YP)(()=>[e.show,e.forbidClick],m),(0,n.YP)(()=>[e.show,e.type,e.message,e.duration],()=>{h(),e.show&&e.duration>0&&(l=setTimeout(()=>{f(!1)},e.duration))}),(0,n.bv)(m),(0,n.SK)(m),()=>(0,n.Wm)(c.GI,(0,n.dG)({class:[v([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:p,onClosed:h,"onUpdate:show":f},(0,i.ei)(e,g)),{default:()=>[(()=>{var{icon:o,type:l,iconSize:a,iconPrefix:r,loadingType:i}=e;return o||"success"===l||"fail"===l?(0,n.Wm)(s.JO,{name:o||l,size:a,class:v("icon"),classPrefix:r},null):"loading"===l?(0,n.Wm)(u.gb,{class:v("loading"),size:a,type:i},null):void 0})(),(()=>{var{type:o,message:l}=e;return r.message?(0,n.Wm)("div",{class:v("text")},[r.message()]):(0,i.Xq)(l)&&""!==l?"html"===o?(0,n.Wm)("div",{key:0,class:v("text"),innerHTML:String(l)},null):(0,n.Wm)("div",{class:v("text")},[l]):void 0})()]})}})},5522:function(e,o,l){l.d(o,{CF:()=>d,LJ:()=>f,XA:()=>m,di:()=>g,yg:()=>p});var n=l(5598),a=l(7936),r=l(9101),i=l(8208),t=[],s=(0,a.l7)({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1}),c=new Map;function u(e){return(0,a.Kn)(e)?e:{message:e}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a._f)return{};var o=function(){if(!t.length){var e=function(){var{instance:e,unmount:o}=(0,r.H)({setup(){var e=(0,n.iH)(""),{open:o,state:l,close:a,toggle:t}=(0,r.o)(),s=()=>{};return(0,n.YP)(e,e=>{l.message=e}),(0,n.FN)().render=()=>(0,n.Wm)(i.Z,(0,n.dG)(l,{onClosed:s,"onUpdate:show":t}),null),{open:o,close:a,message:e}}});return e}();t.push(e)}return t[t.length-1]}(),l=u(e);return o.open((0,a.l7)({},s,c.get(l.type||s.type),l)),o}var v=e=>o=>d((0,a.l7)({type:e},u(o))),g=v("loading"),m=v("success"),f=v("fail"),p=e=>{if(t.length)if(e)t.forEach(e=>{e.close()}),t=[];else if(0){var o;null==(o=t.shift())||o.close()}else t[0].close()}}}]);