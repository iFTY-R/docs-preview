import{_ as R,a as _,b as C}from"./chunks/FunctionInfo.vue_vue_type_script_setup_true_lang.DyMTqidA.js";import{_ as F}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.DxNSmAoY.js";import{_ as H}from"./chunks/Note.BxwPGH_D.js";import{d as E,z as x,i as r,o as p,F as D,j as s,a0 as S,g as l,t as g,H as n,a3 as w,w as f,y as h,O as P,Y as T}from"./chunks/vue.CKrRORKQ.js";import{u as $}from"./chunks/index.BxHykXlP.js";import{d as V}from"./chunks/filters.BhzE80JT.js";import{u as N}from"./chunks/index.KwSmr2jE.js";import{f as O}from"./chunks/index.Bm51v8Fe.js";import"./chunks/metadata.DZbmnv7Q.js";import"./chunks/utils.B5e_uQLX.js";import"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import"./chunks/index.BPSPhI-u.js";import"./chunks/index.CePaUmG6.js";import"./chunks/index.D1OSy3Nc.js";import"./chunks/index.DFBK12yr.js";function Y(o,t={}){const a=t.debounce?V(t.debounce):void 0;return{...$(o,{...t,eventFilter:a})}}const z=["disabled"],M=["disabled"],U={class:"code-block mt-4"},I={class:"opacity-50 mr-2 font-mono"},j={class:"font-mono"},q=E({__name:"demo",setup(o){function t(c){return O(new Date(c),"YYYY-MM-DD HH:mm:ss")}const a=x(1e3),{count:k,inc:d,dec:u}=N(),{history:y,undo:m,redo:b,canUndo:A,canRedo:B}=Y(k,{capacity:10,debounce:a});return(c,i)=>{const v=H;return p(),r(D,null,[s("div",null,"Count: "+g(n(k)),1),s("button",{onClick:i[0]||(i[0]=e=>n(d)())}," 增加 "),s("button",{onClick:i[1]||(i[1]=e=>n(u)())}," 减少 "),i[6]||(i[6]=s("span",{class:"ml-2"},"/",-1)),s("button",{disabled:!n(A),onClick:i[2]||(i[2]=e=>n(m)())}," 撤消 ",8,z),s("button",{disabled:!n(B),onClick:i[3]||(i[3]=e=>n(b)())}," 重做 ",8,M),i[7]||(i[7]=s("br",null,null,-1)),i[8]||(i[8]=s("span",null,"延迟（毫秒）:",-1)),S(s("input",{"onUpdate:modelValue":i[4]||(i[4]=e=>a.value=e),type:"number"},null,512),[[w,a.value]]),i[9]||(i[9]=s("br",null,null,-1)),i[10]||(i[10]=s("br",null,null,-1)),l(v,null,{default:f(()=>i[5]||(i[5]=[h("历史记录（仅限演示，最多保存10条记录）")])),_:1}),s("div",U,[(p(!0),r(D,null,P(n(y),e=>(p(),r("div",{key:e.timestamp},[s("span",I,g(t(e.timestamp)),1),s("span",j,"{ value: "+g(e.snapshot)+" }",1)]))),128))])],64)}}}),ks=JSON.parse('{"title":"useDebouncedRefHistory","description":"","frontmatter":{"category":"State","related":["useRefHistory","useThrottledRefHistory"]},"headers":[],"relativePath":"core/useDebouncedRefHistory/index.md","filePath":"core/useDebouncedRefHistory/index.md"}'),G={name:"core/useDebouncedRefHistory/index.md"},rs=Object.assign(G,{setup(o){return(t,a)=>{const k=R,d=F,u=_,y=C;return p(),r("div",null,[a[1]||(a[1]=s("h1",{id:"usedebouncedrefhistory",tabindex:"-1"},[h("useDebouncedRefHistory "),s("a",{class:"header-anchor",href:"#usedebouncedrefhistory","aria-label":"Permalink to “useDebouncedRefHistory”"},"​")],-1)),l(k,{fn:"useDebouncedRefHistory"}),a[2]||(a[2]=s("p",null,[h("具有防抖过滤器的 "),s("a",{href:"/vueuse/core/useRefHistory/"},[s("code",null,"useRefHistory")]),h(" 的简写。")],-1)),a[3]||(a[3]=s("h2",{id:"demo",tabindex:"-1"},[h("Demo "),s("a",{class:"header-anchor",href:"#demo","aria-label":"Permalink to “Demo”"},"​")],-1)),l(d,null,{default:f(()=>[a[0]||(a[0]=s("p",{class:"demo-source-link"},[s("a",{href:"https://github.com/vueuse/vueuse/blob/main/packages/core/useDebouncedRefHistory/demo.vue",target:"_blank"},"source")],-1)),l(q)]),_:1}),a[4]||(a[4]=T(`<h2 id="用法" tabindex="-1">用法 <a class="header-anchor" href="#用法" aria-label="Permalink to “用法”">​</a></h2><p>此函数在计数器值开始变化时，会在 1000ms 后对其进行快照。</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> useDebouncedRefHistory</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@vueuse/core</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> shallowRef</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">vue</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">counter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> shallowRef</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> history</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> undo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> redo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> useDebouncedRefHistory</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">counter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> { </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">deep</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">debounce</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1000</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> })</span></span></code></pre></div><h2 id="type-declarations" tabindex="-1">Type Declarations <a class="header-anchor" href="#type-declarations" aria-label="Permalink to “Type Declarations”">​</a></h2><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * Shorthand for [useRefHistory](https://vueuse.org/useRefHistory) with debounce filter.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> *</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">see</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> https://vueuse.org/useDebouncedRefHistory</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">param</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> source</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">param</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> options</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> */</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> declare</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> useDebouncedRefHistory</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Raw</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Serialized</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Raw</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  source</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Ref</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Raw</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  options</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Omit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">UseRefHistoryOptions</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Raw</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Serialized</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">eventFilter</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt; &amp; {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    debounce</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">?</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">MaybeRefOrGetter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> UseRefHistoryReturn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">Raw</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Serialized</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span></code></pre></div><h2 id="source" tabindex="-1">Source <a class="header-anchor" href="#source" aria-label="Permalink to “Source”">​</a></h2><p><a href="https://github.com/vueuse/vueuse/blob/main/packages/core/useDebouncedRefHistory/index.ts" target="_blank" rel="noreferrer">Source</a> • <a href="https://github.com/vueuse/vueuse/blob/main/packages/core/useDebouncedRefHistory/demo.vue" target="_blank" rel="noreferrer">Demo</a> • <a href="https://github.com/vueuse/vueuse/blob/main/packages/core/useDebouncedRefHistory/index.md" target="_blank" rel="noreferrer">Docs</a></p><h2 id="contributors" tabindex="-1">Contributors <a class="header-anchor" href="#contributors" aria-label="Permalink to “Contributors”">​</a></h2>`,8)),l(u,{fn:"useDebouncedRefHistory"}),a[5]||(a[5]=s("h2",{id:"changelog",tabindex:"-1"},[h("Changelog "),s("a",{class:"header-anchor",href:"#changelog","aria-label":"Permalink to “Changelog”"},"​")],-1)),l(y,{fn:"useDebouncedRefHistory"})])}}});export{ks as __pageData,rs as default};
