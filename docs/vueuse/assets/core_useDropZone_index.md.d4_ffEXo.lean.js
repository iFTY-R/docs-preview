import{_ as P,a as M,b as N}from"./chunks/FunctionInfo.vue_vue_type_script_setup_true_lang.DyMTqidA.js";import{_ as V}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.DxNSmAoY.js";import{_ as L}from"./chunks/BooleanDisplay.vue_vue_type_script_setup_true_lang.BPrTPWVy.js";import{u as E}from"./chunks/index.DdrW3HGD.js";import{z as F,H as Z,d as U,$ as O,i as f,o as m,j as s,y,g as D,F as w,O as S,t as g,Y as I,w as j}from"./chunks/vue.CKrRORKQ.js";import{a as $}from"./chunks/metadata.DZbmnv7Q.js";import"./chunks/utils.B5e_uQLX.js";import"./chunks/index.CNq88Uqw.js";import"./chunks/general.CGRH32nb.js";function z(c,p={}){const a=F(!1),u=F(null);let k=0,r=!0;if($){const l=typeof p=="function"?{onDrop:p}:p,B=l.multiple??!0,C=l.preventDefaultForUnhandled??!1,d=i=>{var h;const e=Array.from(((h=i.dataTransfer)==null?void 0:h.files)??[]);return e.length===0?null:B?e:[e[0]]},n=i=>{const e=Z(l.dataTypes);return typeof e=="function"?e(i):e!=null&&e.length?i.length===0?!1:i.every(h=>e.some(A=>h.includes(A))):!0},v=i=>{const e=Array.from(i??[]).map(b=>b.type),h=n(e),A=B||i.length<=1;return h&&A},t=()=>/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent)&&!("chrome"in window),o=(i,e)=>{var b,_,x,T,R;const h=(b=i.dataTransfer)==null?void 0:b.items;if(r=(h&&v(h))??!1,C&&i.preventDefault(),!t()&&!r){i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="copy");const A=d(i);switch(e){case"enter":k+=1,a.value=!0,(_=l.onEnter)==null||_.call(l,null,i);break;case"over":(x=l.onOver)==null||x.call(l,null,i);break;case"leave":k-=1,k===0&&(a.value=!1),(T=l.onLeave)==null||T.call(l,null,i);break;case"drop":k=0,a.value=!1,r&&(u.value=A,(R=l.onDrop)==null||R.call(l,A,i));break}};E(c,"dragenter",i=>o(i,"enter")),E(c,"dragover",i=>o(i,"over")),E(c,"dragleave",i=>o(i,"leave")),E(c,"drop",i=>o(i,"drop"))}return{files:u,isOverDropZone:a}}const q={class:"flex flex-col gap-2"},G={class:"w-full h-auto relative"},H={grid:"~ cols-2 gap-2"},J={class:"flex flex-wrap justify-center items-center"},W={class:"flex flex-wrap justify-center items-center"},Y=U({__name:"demo",setup(c){const p=F([]),a=F([]);function u(d){p.value=[],d&&(p.value=d.map(n=>({name:n.name,size:n.size,type:n.type,lastModified:n.lastModified})))}function k(d){a.value=[],d&&(a.value=d.map(n=>({name:n.name,size:n.size,type:n.type,lastModified:n.lastModified})))}const r=O("dropZoneRef"),l=O("imageDropZoneRef"),{isOverDropZone:B}=z(r,u),{isOverDropZone:C}=z(l,{dataTypes:["image/png"],onDrop:k});return(d,n)=>{const v=L;return m(),f("div",q,[s("div",G,[n[4]||(n[4]=s("p",null,"Drop files from your computer on to drop zones",-1)),s("div",H,[s("div",{ref_key:"dropZoneRef",ref:r,class:"flex flex-col w-full min-h-200px h-auto bg-gray-400/10 justify-center items-center mt-6 rounded"},[n[1]||(n[1]=s("div",{"font-bold":"",mb2:""}," General DropZone ",-1)),s("div",null,[n[0]||(n[0]=y(" isOverDropZone: ")),D(v,{value:Z(B)},null,8,["value"])]),s("div",J,[(m(!0),f(w,null,S(p.value,(t,o)=>(m(),f("div",{key:o,class:"w-200px bg-black-200/10 ma-2 pa-6"},[s("p",null,"Name: "+g(t.name),1),s("p",null,"Size: "+g(t.size),1),s("p",null,"Type: "+g(t.type),1),s("p",null,"Last modified: "+g(t.lastModified),1)]))),128))])],512),s("div",{ref_key:"imageDropZoneRef",ref:l,class:"flex flex-col w-full min-h-200px h-auto bg-gray-400/10 justify-center items-center mt-6 rounded"},[n[3]||(n[3]=s("div",{"font-bold":"",mb2:""}," Image DropZone ",-1)),s("div",null,[n[2]||(n[2]=y(" isOverDropZone: ")),D(v,{value:Z(C)},null,8,["value"])]),s("div",W,[(m(!0),f(w,null,S(a.value,(t,o)=>(m(),f("div",{key:o,class:"w-200px bg-black-200/10 ma-2 pa-6"},[s("p",null,"Name: "+g(t.name),1),s("p",null,"Size: "+g(t.size),1),s("p",null,"Type: "+g(t.type),1),s("p",null,"Last modified: "+g(t.lastModified),1)]))),128))])],512)])])])}}}),hs=JSON.parse('{"title":"useDropZone","description":"","frontmatter":{"category":"Elements"},"headers":[],"relativePath":"core/useDropZone/index.md","filePath":"core/useDropZone/index.md"}'),K={name:"core/useDropZone/index.md"},ps=Object.assign(K,{setup(c){return(p,a)=>{const u=P,k=V,r=M,l=N;return m(),f("div",null,[a[1]||(a[1]=s("h1",{id:"usedropzone",tabindex:"-1"},[y("useDropZone "),s("a",{class:"header-anchor",href:"#usedropzone","aria-label":"Permalink to “useDropZone”"},"​")],-1)),D(u,{fn:"useDropZone"}),a[2]||(a[2]=s("p",null,"创建一个可以放置文件的区域。",-1)),a[3]||(a[3]=s("div",{class:"warning custom-block"},[s("p",{class:"custom-block-title custom-block-title-default"},"WARNING"),s("p",null,[y("由于 Safari 浏览器的限制，文件类型验证只能在 drop 事件期间进行，而不能在 drag 事件期间进行。因此，在 Safari 中，无论文件类型如何，"),s("code",null,"isOverDropZone"),y(" 值在拖拽操作期间将始终为 "),s("code",null,"true"),y("。")])],-1)),a[4]||(a[4]=s("h2",{id:"demo",tabindex:"-1"},[y("Demo "),s("a",{class:"header-anchor",href:"#demo","aria-label":"Permalink to “Demo”"},"​")],-1)),D(k,null,{default:j(()=>[a[0]||(a[0]=s("p",{class:"demo-source-link"},[s("a",{href:"https://github.com/vueuse/vueuse/blob/main/packages/core/useDropZone/demo.vue",target:"_blank"},"source")],-1)),D(Y)]),_:1}),a[5]||(a[5]=I("",7)),D(r,{fn:"useDropZone"}),a[6]||(a[6]=s("h2",{id:"changelog",tabindex:"-1"},[y("Changelog "),s("a",{class:"header-anchor",href:"#changelog","aria-label":"Permalink to “Changelog”"},"​")],-1)),D(l,{fn:"useDropZone"})])}}});export{hs as __pageData,ps as default};
