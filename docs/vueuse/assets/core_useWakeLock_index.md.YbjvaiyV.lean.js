import{_ as m,a as v,b as B}from"./chunks/FunctionInfo.vue_vue_type_script_setup_true_lang.DyMTqidA.js";import{_ as b}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.DxNSmAoY.js";import{_}from"./chunks/BooleanDisplay.vue_vue_type_script_setup_true_lang.BPrTPWVy.js";import{B as F,z as g,A as c,d as E,D as C,i as y,o as u,F as L,j as n,y as h,g as p,t as W,Y as x,w as S}from"./chunks/vue.CKrRORKQ.js";import{g as P,b as w}from"./chunks/metadata.DZbmnv7Q.js";import{u as T}from"./chunks/index.DvNofzTs.js";import{u as q}from"./chunks/index.DdrW3HGD.js";import{u as R}from"./chunks/index.oqMf4-M6.js";import"./chunks/utils.B5e_uQLX.js";import"./chunks/index.CNq88Uqw.js";import"./chunks/general.CGRH32nb.js";import"./chunks/index.DfAUkXFk.js";function N(r,a,s){return F(r,(i,t,l)=>{i&&a(i,t,l)},{...s,once:!1})}function V(r={}){const{navigator:a=w,document:s=P}=r,k=g(!1),i=g(null),t=T({document:s}),l=R(()=>a&&"wakeLock"in a),A=c(()=>!!i.value&&t.value==="visible");l.value&&(q(i,"release",()=>{var e;k.value=((e=i.value)==null?void 0:e.type)??!1},{passive:!0}),N(()=>t.value==="visible"&&(s==null?void 0:s.visibilityState)==="visible"&&k.value,e=>{k.value=!1,o(e)}));async function o(e){var d;await((d=i.value)==null?void 0:d.release()),i.value=l.value?await a.wakeLock.request(e):null}async function D(e){t.value==="visible"?await o(e):k.value=e}async function f(){k.value=!1;const e=i.value;i.value=null,await(e==null?void 0:e.release())}return{sentinel:i,isSupported:l,isActive:A,request:D,forceRequest:o,release:f}}const I=E({__name:"demo",setup(r){const a=C(V()),s=c(()=>a.isActive?"OFF":"ON");function k(){return a.isActive?a.release():a.request("screen")}return(i,t)=>{const l=_;return u(),y(L,null,[n("div",null,[t[0]||(t[0]=h(" 是否支持: ")),p(l,{value:a.isSupported},null,8,["value"])]),n("div",null,[t[1]||(t[1]=h(" 激活状态: ")),p(l,{value:a.isActive},null,8,["value"])]),n("button",{onClick:k},W(s.value),1)],64)}}}),Z=JSON.parse('{"title":"useWakeLock","description":"","frontmatter":{"category":"Browser"},"headers":[],"relativePath":"core/useWakeLock/index.md","filePath":"core/useWakeLock/index.md"}'),O={name:"core/useWakeLock/index.md"},ss=Object.assign(O,{setup(r){return(a,s)=>{const k=m,i=b,t=v,l=B;return u(),y("div",null,[s[1]||(s[1]=n("h1",{id:"usewakelock",tabindex:"-1"},[h("useWakeLock "),n("a",{class:"header-anchor",href:"#usewakelock","aria-label":"Permalink to “useWakeLock”"},"​")],-1)),p(k,{fn:"useWakeLock"}),s[2]||(s[2]=n("p",null,[h("响应式 "),n("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Screen_Wake_Lock_API",target:"_blank",rel:"noreferrer"},"屏幕唤醒锁定 API"),h("。提供了一种防止设备在应用程序需要持续运行时变暗或锁定屏幕的方法。")],-1)),s[3]||(s[3]=n("h2",{id:"demo",tabindex:"-1"},[h("Demo "),n("a",{class:"header-anchor",href:"#demo","aria-label":"Permalink to “Demo”"},"​")],-1)),p(i,null,{default:S(()=>[s[0]||(s[0]=n("p",{class:"demo-source-link"},[n("a",{href:"https://github.com/vueuse/vueuse/blob/main/packages/core/useWakeLock/demo.vue",target:"_blank"},"source")],-1)),p(I)]),_:1}),s[4]||(s[4]=x("",10)),p(t,{fn:"useWakeLock"}),s[5]||(s[5]=n("h2",{id:"changelog",tabindex:"-1"},[h("Changelog "),n("a",{class:"header-anchor",href:"#changelog","aria-label":"Permalink to “Changelog”"},"​")],-1)),p(l,{fn:"useWakeLock"})])}}});export{Z as __pageData,ss as default};
