import{_ as w,a as O,b as H}from"./chunks/FunctionInfo.vue_vue_type_script_setup_true_lang.DyMTqidA.js";import{_ as M}from"./chunks/DemoContainer.vue_vue_type_script_setup_true_lang.DxNSmAoY.js";import{_ as S}from"./chunks/BooleanDisplay.vue_vue_type_script_setup_true_lang.BPrTPWVy.js";import{u as U}from"./chunks/index.CNq88Uqw.js";import{u as b}from"./chunks/index.DdrW3HGD.js";import{A as N,d as V,z as u,i as x,o as T,F as $,j as a,y as m,g as d,Y as I,w as j}from"./chunks/vue.CKrRORKQ.js";import"./chunks/metadata.DZbmnv7Q.js";import"./chunks/utils.B5e_uQLX.js";import"./chunks/general.CGRH32nb.js";const Y=500,z=10;function F(C,g,s){var v,P;const l=N(()=>U(C));let h,n,k,y=!1;function D(){h&&(clearTimeout(h),h=void 0),n=void 0,k=void 0,y=!1}function o(i){var _,L,q;const[e,t,c]=[k,n,y];if(D(),!(s!=null&&s.onMouseUp)||!t||!e||(_=s==null?void 0:s.modifiers)!=null&&_.self&&i.target!==l.value)return;(L=s==null?void 0:s.modifiers)!=null&&L.prevent&&i.preventDefault(),(q=s==null?void 0:s.modifiers)!=null&&q.stop&&i.stopPropagation();const A=i.x-t.x,B=i.y-t.y,f=Math.sqrt(A*A+B*B);s.onMouseUp(i.timeStamp-e,f,c)}function p(i){var e,t,c;(e=s==null?void 0:s.modifiers)!=null&&e.self&&i.target!==l.value||(D(),(t=s==null?void 0:s.modifiers)!=null&&t.prevent&&i.preventDefault(),(c=s==null?void 0:s.modifiers)!=null&&c.stop&&i.stopPropagation(),n={x:i.x,y:i.y},k=i.timeStamp,h=setTimeout(()=>{y=!0,g(i)},(s==null?void 0:s.delay)??Y))}function r(i){var A,B,f;if((A=s==null?void 0:s.modifiers)!=null&&A.self&&i.target!==l.value||!n||(s==null?void 0:s.distanceThreshold)===!1)return;(B=s==null?void 0:s.modifiers)!=null&&B.prevent&&i.preventDefault(),(f=s==null?void 0:s.modifiers)!=null&&f.stop&&i.stopPropagation();const e=i.x-n.x,t=i.y-n.y;Math.sqrt(e*e+t*t)>=((s==null?void 0:s.distanceThreshold)??z)&&D()}const E={capture:(v=s==null?void 0:s.modifiers)==null?void 0:v.capture,once:(P=s==null?void 0:s.modifiers)==null?void 0:P.once},R=[b(l,"pointerdown",p,E),b(l,"pointermove",r,E),b(l,["pointerup","pointerleave"],o,E)];return()=>R.forEach(i=>i())}const J=V({__name:"demo",setup(C){const g=u(null),s=u(null),l=u(null),h=u(!1),n=u(!1);function k(o){h.value=!0}function y(o,p,r){r||(n.value=!0),console.log({distance:p,duration:o,isLongPress:r})}function D(){h.value=!1,n.value=!1}return F(g,k),F(s,k,{delay:1e3}),F(l,k,{distanceThreshold:24,delay:1e3,onMouseUp:y}),(o,p)=>{const r=S;return T(),x($,null,[a("p",null,[p[0]||(p[0]=m("长按： ")),d(r,{value:h.value},null,8,["value"])]),a("p",null,[p[1]||(p[1]=m("点击： ")),d(r,{value:n.value},null,8,["value"])]),a("button",{ref_key:"htmlRef",ref:g,class:"ml-2 button small"}," 长按（500毫秒） ",512),a("button",{ref_key:"htmlRefOptions",ref:s,class:"ml-2 button small"}," 长按（1000毫秒） ",512),a("button",{ref_key:"htmlRefOnMouseUp",ref:l,class:"ml-2 button small"}," 长按（1000毫秒）或点击 ",512),a("button",{class:"ml-2 button small",onClick:D}," 重置 ")],64)}}}),hs=JSON.parse('{"title":"onLongPress","description":"","frontmatter":{"category":"Sensors"},"headers":[],"relativePath":"core/onLongPress/index.md","filePath":"core/onLongPress/index.md"}'),W={name:"core/onLongPress/index.md"},ks=Object.assign(W,{setup(C){return(g,s)=>{const l=w,h=M,n=O,k=H;return T(),x("div",null,[s[1]||(s[1]=a("h1",{id:"onlongpress",tabindex:"-1"},[m("onLongPress "),a("a",{class:"header-anchor",href:"#onlongpress","aria-label":"Permalink to “onLongPress”"},"​")],-1)),d(l,{fn:"onLongPress"}),s[2]||(s[2]=a("p",null,"监听元素上的长按事件。",-1)),s[3]||(s[3]=a("p",null,"函数在选项中提供了修饰符",-1)),s[4]||(s[4]=a("ul",null,[a("li",null,"stop"),a("li",null,"once"),a("li",null,"prevent"),a("li",null,"capture"),a("li",null,"self")],-1)),s[5]||(s[5]=a("h2",{id:"demo",tabindex:"-1"},[m("Demo "),a("a",{class:"header-anchor",href:"#demo","aria-label":"Permalink to “Demo”"},"​")],-1)),d(h,null,{default:j(()=>[s[0]||(s[0]=a("p",{class:"demo-source-link"},[a("a",{href:"https://github.com/vueuse/vueuse/blob/main/packages/core/onLongPress/demo.vue",target:"_blank"},"source")],-1)),d(J)]),_:1}),s[6]||(s[6]=I("",11)),d(n,{fn:"onLongPress"}),s[7]||(s[7]=a("h2",{id:"changelog",tabindex:"-1"},[m("Changelog "),a("a",{class:"header-anchor",href:"#changelog","aria-label":"Permalink to “Changelog”"},"​")],-1)),d(k,{fn:"onLongPress"})])}}});export{hs as __pageData,ks as default};
