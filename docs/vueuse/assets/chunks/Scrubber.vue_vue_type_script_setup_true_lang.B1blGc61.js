import{u as B}from"./index.DdrW3HGD.js";import{u as z}from"./index.9w_wE969.js";import{c as C}from"./index.D1OSy3Nc.js";import{k as X}from"./metadata.DZbmnv7Q.js";import{a8 as q,r as k,B as h,A as F,v as I,d as _,z as E,i as j,o as A,j as b,n as S,H as y,q as D,f as H}from"./vue.CKrRORKQ.js";function J(a,s,f,g={}){var $,M,N;const{clone:n=!1,passive:l=!1,eventName:o,deep:r=!1,defaultValue:u,shouldEmit:i}=g,e=q(),c=f||(e==null?void 0:e.emit)||(($=e==null?void 0:e.$emit)==null?void 0:$.bind(e))||((N=(M=e==null?void 0:e.proxy)==null?void 0:M.$emit)==null?void 0:N.bind(e==null?void 0:e.proxy));let d=o;d=d||`update:${s.toString()}`;const x=t=>n?typeof n=="function"?n(t):C(t):t,V=()=>X(a[s])?x(a[s]):u,w=t=>{i?i(t)&&c(d,t):c(d,t)};if(l){const t=V(),v=k(t);let m=!1;return h(()=>a[s],p=>{m||(m=!0,v.value=x(p),I(()=>m=!1))}),h(v,p=>{!m&&(p!==a[s]||r)&&w(p)},{deep:r}),v}else return F({get(){return V()},set(t){w(t)}})}const L={class:"relative overflow-hidden h-full w-full rounded"},G=_({__name:"Scrubber",props:{min:{type:Number,default:0},max:{type:Number,default:100},secondary:{type:Number,default:0},modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(a,{emit:s}){const f=a,g=s,n=k(),l=E(!1),o=E(0);B("mouseup",()=>l.value=!1,{passive:!0});const r=J(f,"modelValue",g),{elementX:u,elementWidth:i}=z(n);return h([l,u],()=>{const e=Math.max(0,Math.min(1,u.value/i.value));o.value=e*f.max,l.value&&(r.value=o.value)}),(e,c)=>(A(),j("div",{ref_key:"scrubber",ref:n,class:"relative h-2 rounded cursor-pointer select-none bg-black dark:bg-white dark:bg-opacity-10 bg-opacity-20",onMousedown:c[0]||(c[0]=d=>l.value=!0)},[b("div",L,[b("div",{class:"h-full absolute opacity-30 left-0 top-0 bg-emerald-700 w-full rounded",style:S({transform:`translateX(${a.secondary/a.max*100-100}%)`})},null,4),b("div",{class:"relative h-full w-full bg-emerald-500 rounded",style:S({transform:`translateX(${y(r)/a.max*100-100}%)`})},null,4)]),b("div",{class:D(["absolute inset-0 hover:opacity-100 opacity-0",{"!opacity-100":l.value}])},[H(e.$slots,"default",{pendingValue:o.value,position:`${Math.max(0,Math.min(y(u),y(i)))}px`})],2)],544))}});export{G as _};
