import{t as k}from"./index.xAcUqA8Y.js";import{u as q}from"./index.1QUgKiV0.js";import{u as B}from"./index.CwoAc2Nq.js";import{n as O,d as G}from"./metadata.DZbmnv7Q.js";import{u as J}from"./index.CNq88Uqw.js";import{u as W}from"./index.DdrW3HGD.js";import{z as g,A as C,a1 as c,D as F}from"./vue.CKrRORKQ.js";const I=1;function ot(i,V={}){const{throttle:b=0,idle:X=200,onStop:_=O,onScroll:z=O,offset:p={left:0,right:0,top:0,bottom:0},eventListenerOptions:y={capture:!1,passive:!0},behavior:P="auto",window:r=G,onError:Y=t=>{console.error(t)}}=V,u=g(0),a=g(0),E=C({get(){return u.value},set(t){D(t,void 0)}}),S=C({get(){return a.value},set(t){D(void 0,t)}});function D(t,e){var h,m;if(!r)return;const o=c(i);if(!o)return;(h=o instanceof Document?r.document.body:o)==null||h.scrollTo({top:c(e)??S.value,left:c(t)??E.value,behavior:c(P)});const f=((m=o==null?void 0:o.document)==null?void 0:m.documentElement)||(o==null?void 0:o.documentElement)||o;E!=null&&(u.value=f.scrollLeft),S!=null&&(a.value=f.scrollTop)}const v=g(!1),l=F({left:!0,right:!1,top:!0,bottom:!1}),n=F({left:!1,right:!1,top:!1,bottom:!1}),L=t=>{v.value&&(v.value=!1,n.left=!1,n.right=!1,n.top=!1,n.bottom=!1,_(t))},j=q(L,b+X),T=t=>{var R;if(!r)return;const e=((R=t==null?void 0:t.document)==null?void 0:R.documentElement)||(t==null?void 0:t.documentElement)||J(t),{display:o,flexDirection:f,direction:h}=getComputedStyle(e),m=h==="rtl"?-1:1,d=e.scrollLeft;n.left=d<u.value,n.right=d>u.value;const w=Math.abs(d*m)<=(p.left||0),x=Math.abs(d*m)+e.clientWidth>=e.scrollWidth-(p.right||0)-I;o==="flex"&&f==="row-reverse"?(l.left=x,l.right=w):(l.left=w,l.right=x),u.value=d;let s=e.scrollTop;t===r.document&&!s&&(s=r.document.body.scrollTop),n.top=s<a.value,n.bottom=s>a.value;const H=Math.abs(s)<=(p.top||0),A=Math.abs(s)+e.clientHeight>=e.scrollHeight-(p.bottom||0)-I;o==="flex"&&f==="column-reverse"?(l.top=A,l.bottom=H):(l.top=H,l.bottom=A),a.value=s},M=t=>{if(!r)return;const e=t.target.documentElement??t.target;T(e),v.value=!0,j(t),z(t)};return W(i,"scroll",b?B(M,b,!0,!1):M,y),k(()=>{try{const t=c(i);if(!t)return;T(t)}catch(t){Y(t)}}),W(i,"scrollend",L,y),{x:E,y:S,isScrolling:v,arrivedState:l,directions:n,measure(){const t=c(i);r&&t&&T(t)}}}export{ot as u};
