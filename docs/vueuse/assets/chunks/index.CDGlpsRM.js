import{d as l,e as v,t as w}from"./metadata.DZbmnv7Q.js";import{u as h}from"./index.CNq88Uqw.js";import{u as O}from"./index.oqMf4-M6.js";import{A as S,a1 as b,B as M}from"./vue.CKrRORKQ.js";import{t as k}from"./general.CGRH32nb.js";function x(i,u,c={}){const{window:s=l,...p}=c;let t;const r=O(()=>s&&"MutationObserver"in s),n=()=>{t&&(t.disconnect(),t=void 0)},m=S(()=>{const o=b(i),e=k(o).map(h).filter(v);return new Set(e)}),f=M(()=>m.value,o=>{n(),r.value&&o.size&&(t=new MutationObserver(u),o.forEach(e=>t.observe(e,p)))},{immediate:!0,flush:"post"}),d=()=>t==null?void 0:t.takeRecords(),a=()=>{f(),n()};return w(a),{isSupported:r,stop:a,takeRecords:d}}export{x as u};
