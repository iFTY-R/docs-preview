import{t as x}from"./index.xAcUqA8Y.js";import{d as b}from"./metadata.DZbmnv7Q.js";import{u as i}from"./index.CNq88Uqw.js";import{u as g}from"./index.BEcLakdG.js";import{A as B,z as a,B as R}from"./vue.CKrRORKQ.js";import{t as z}from"./general.CGRH32nb.js";function S(c,t={width:0,height:0},d={}){const{window:m=b,box:r="content-box"}=d,l=B(()=>{var e,h;return(h=(e=i(c))==null?void 0:e.namespaceURI)==null?void 0:h.includes("svg")}),o=a(t.width),s=a(t.height),{stop:v}=g(c,([e])=>{const h=r==="border-box"?e.borderBoxSize:r==="content-box"?e.contentBoxSize:e.devicePixelContentBoxSize;if(m&&l.value){const u=i(c);if(u){const n=u.getBoundingClientRect();o.value=n.width,s.value=n.height}}else if(h){const u=z(h);o.value=u.reduce((n,{inlineSize:f})=>n+f,0),s.value=u.reduce((n,{blockSize:f})=>n+f,0)}else o.value=e.contentRect.width,s.value=e.contentRect.height},d);x(()=>{const e=i(c);e&&(o.value="offsetWidth"in e?e.offsetWidth:t.width,s.value="offsetHeight"in e?e.offsetHeight:t.height)});const p=R(()=>i(c),e=>{o.value=e?t.width:0,s.value=e?t.height:0});function w(){v(),p()}return{width:o,height:s,stop:w}}export{S as u};
