import{w}from"./index.BPSPhI-u.js";import{u as A}from"./index.CePaUmG6.js";import{p as R}from"./filters.BhzE80JT.js";function C(s,o={}){const{deep:r=!1,flush:u="pre",eventFilter:l}=o,{eventFilter:m,pause:f,resume:p,isActive:d}=R(l),{ignoreUpdates:c,ignorePrevAsyncUpdates:i,stop:v}=w(s,t,{deep:r,flush:u,eventFilter:m});function g(e,n){i(),c(()=>{e.value=n})}const a=A(s,{...o,clone:o.clone||r,setSource:g}),{clear:F,commit:y}=a;function t(){i(),y()}function b(e){p(),e&&t()}function h(e){let n=!1;const k=()=>n=!0;c(()=>{e(k)}),n||t()}function H(){v(),F()}return{...a,isTracking:d,pause:f,resume:b,commit:t,batch:h,dispose:H}}export{C as u};
